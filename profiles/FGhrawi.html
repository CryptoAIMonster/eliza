
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FGhrawi - GitHub Contributions</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 dark:bg-gray-900">
    <div id="root"><div class="max-w-7xl mx-auto p-4 space-y-6"><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><img src="https://avatars.githubusercontent.com/u/89403229?v=4" alt="FGhrawi&#x27;s avatar" class="w-16 h-16 rounded-full"/><div><h1 class="text-2xl font-bold">FGhrawi</h1><div class="text-gray-600 dark:text-gray-400"><span class="font-semibold">Score: </span>13</div></div></div><div class="text-3xl font-bold text-blue-600 dark:text-blue-400">13</div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><p class="text-gray-700 dark:text-gray-300 text-sm leading-relaxed">FGhrawi is currently addressing a bug related to the Ollama model initialization process, where users experience an extended loop before any output occurs. This issue has been documented as one significant activity on GitHub within the last 45 days, and no pull requests or code changes have been made yet in relation to this problem.</p></div><div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Commits</h3><p class="text-2xl font-bold">0</p></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Pull Requests</h3><p class="text-2xl font-bold">0</p></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Issues</h3><p class="text-2xl font-bold">1</p></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Comments</h3><p class="text-2xl font-bold">7</p></div></div><div class="space-y-4"><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Commits</h3><span>▶</span></div></div><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Pull Requests</h3><span>▶</span></div></div><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Issues</h3><span>▶</span></div></div><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Comments</h3><span>▶</span></div></div></div></div></div>
    <script>
        window.__DATA__ = {"contributor":"FGhrawi","score":13,"summary":"FGhrawi is currently addressing a bug related to the Ollama model initialization process, where users experience an extended loop before any output occurs. This issue has been documented as one significant activity on GitHub within the last 45 days, and no pull requests or code changes have been made yet in relation to this problem.","avatar_url":"https://avatars.githubusercontent.com/u/89403229?v=4","activity":{"code":{"total_commits":0,"total_prs":0,"commits":[],"pull_requests":[]},"issues":{"total_opened":1,"opened":[{"number":443,"title":"When using Ollama, a long loop of Initializing Ollama Model happens before any output","state":"OPEN","created_at":"2024-11-20T09:15:15Z","updated_at":"2024-11-28T12:57:48Z","body":"**Describe the bug**\r\n\r\nWhen using Ollama, the model being used is loaded over and over in a loop (sometimes 10-15+ times) in the terminal before any output or agent decision-making happens.\r\nFwiw, one model is configured at a time in .env (so no swapping is being done)\r\n\r\n**To Reproduce**\r\n\r\nUse any model with the Ollama provider\r\n\r\n**Expected behavior**\r\n\r\nModel loads once. (Since ollama is on keepalive and only 1 model is being used)\r\n\r\n**Screenshots**\r\n![Screenshot_2024-11-19_at_10 46 50_PM](https://github.com/user-attachments/assets/9aee0e5e-a587-482e-9afc-b860b1a23614)\r\n\r\n\r\n\r\n\r\n**Additional context**\r\nI am on a fresh clone of the repo with a basic character configuration.\r\nFwiw, I have 24gb vram, and this happens even on smaller models.\r\n\r\n\r\n\r\n","labels":[{"name":"bug","color":"d73a4a","description":"Something isn't working"}],"comments":[{"author":"drew-royster","body":"@FGhrawi can you pull latest and confirm that this is fixed?"},{"author":"yodamaster726","body":"I did a fresh clone on the latest code and the code keeps wanting to download and run the local_llama.\r\nI have the OLLAMA_MODEL set in my .env.  Here is what have:\r\n\r\n#Set to Use for New OLLAMA provider\r\nOLLAMA_SERVER_URL=   #Leave blank for default localhost:11434\r\nOLLAMA_MODEL=hermes3\r\nOLLAMA_EMBEDDING_MODEL=     #default mxbai-embed-large\r\n#To use custom model types for different tasks set these\r\nSMALL_OLLAMA_MODEL=         #default llama3.2\r\nMEDIUM_OLLAMA_MODEL=        #default hermes3\r\nLARGE_OLLAMA_MODEL=         #default hermes3:70b\r\n\r\nThis is what I have in my defaultCharacter.\r\n\r\n    modelProvider: ModelProviderName.OLLAMA,\r\n    settings: {\r\n        secrets: {},\r\n        voice: {\r\n            model: \"en_US-hfc_female-medium\",\r\n        },\r\n        embeddingModel: \"mxbai-embed-large\"\r\n    },\r\n\r\nCode is also tries to load the wrong OLLAMA embedding model too by default - hence having to set it here.\r\n\r\nI'm debugging the problem now and working on a fix for it.\r\n\r\n"},{"author":"lakshya404stc","body":"Is this issue still valid??"},{"author":"yodamaster726","body":"yes, ollama and llama local got merged together and the ollama logic is not working right.  getting close to a fix.\r\nexample, its downloading the local llama instead of using ollama if it's configured"},{"author":"drew-royster","body":"@yodamaster726 what is your character file like? I had ollama as the model in my character and it seemed to use ollama just fine."},{"author":"yodamaster726","body":"I tried the latest tag v0.1.3 and then tried the latest code from yesterday.  My character file was the default one.\r\n![image](https://github.com/user-attachments/assets/140300b3-dc4e-4cb1-89f7-810f4589c627)\r\n\r\nupdates to fix this problem:  https://github.com/ai16z/eliza/pull/521"},{"author":"dr-fusion","body":"just tested with the latest code and used `ModelProviderName.LLAMALOCAL,`\r\n\r\nSeems like its still going in a loop.\r\n"}]}]},"engagement":{"total_comments":7,"total_reviews":0,"comments":[],"reviews":[]}}};
    </script>
    <script type="text/javascript">
        
const StatusDot = ({ status }) => {
  const colors = {
    open: 'bg-green-500',
    closed: 'bg-red-500',
    merged: 'bg-purple-500'
  };

  return React.createElement('span', {
    className: `inline-block w-2 h-2 rounded-full ${colors[status]} mr-2`
  });
};

const ActivitySection = ({ title, items = [], showStatus = false }) => {
  const [isExpanded, setIsExpanded] = React.useState(false);
  
  const getStatus = (item) => {
    if (item.state === 'merged' || (item.state === 'closed' && title === 'Pull Requests')) {
      return 'merged';
    }
    return item.state || 'open';
  };

  return React.createElement('div', { className: 'border rounded-lg p-4' },
    React.createElement('div', {
      className: 'flex items-center justify-between cursor-pointer',
      onClick: () => setIsExpanded(!isExpanded)
    },
      React.createElement('h3', { className: 'font-semibold' }, title),
      React.createElement('span', null, isExpanded ? '▼' : '▶')
    ),
    isExpanded && React.createElement('div', { className: 'mt-4 space-y-2' },
      items.map((item, index) => 
        React.createElement('div', { key: index, className: 'p-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded' },
          React.createElement('a', {
            href: item.url,
            target: '_blank',
            rel: 'noopener noreferrer',
            className: 'text-sm hover:text-blue-500 flex flex-col gap-1'
          },
            React.createElement('span', { className: 'font-medium flex items-center' },
              showStatus && React.createElement(StatusDot, { status: getStatus(item) }),
              item.message || item.title || item.body
            ),
            React.createElement('span', { className: 'text-gray-500 text-xs' },
              new Date(item.date || item.created_at).toLocaleDateString()
            )
          )
        )
      )
    )
  );
};

const StatCard = ({ name, value }) => {
  return React.createElement('div', { className: 'bg-white dark:bg-gray-800 rounded-lg p-6 shadow' },
    React.createElement('h3', { className: 'font-semibold' }, name),
    React.createElement('p', { className: 'text-2xl font-bold' }, value)
  );
};

const ContributorProfile = ({ data }) => {
  const stats = [
    { name: 'Commits', value: data.activity.code.total_commits },
    { name: 'Pull Requests', value: data.activity.code.total_prs },
    { name: 'Issues', value: data.activity.issues.total_opened },
    { name: 'Comments', value: data.activity.engagement.total_comments }
  ];

  return React.createElement('div', { className: 'max-w-7xl mx-auto p-4 space-y-6' },
    React.createElement('div', { className: 'bg-white dark:bg-gray-800 rounded-lg p-6 shadow' },
      React.createElement('div', { className: 'flex items-center justify-between' },
        React.createElement('div', { className: 'flex items-center gap-4' },
          React.createElement('img', {
            src: data.avatar_url,
            alt: `${data.contributor}'s avatar`,
            className: 'w-16 h-16 rounded-full'
          }),
          React.createElement('div', null,
            React.createElement('h1', { className: 'text-2xl font-bold' }, data.contributor),
            React.createElement('div', { className: 'text-gray-600 dark:text-gray-400' },
              React.createElement('span', { className: 'font-semibold' }, 'Score: '),
              data.score
            )
          )
        )
      )
    ),

    data.summary && React.createElement('div', { 
      className: 'bg-white dark:bg-gray-800 rounded-lg p-6 shadow'
    },
      React.createElement('p', { 
        className: 'text-gray-700 dark:text-gray-300 text-sm leading-relaxed'
      }, data.summary)
    ),

    React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-4 gap-4' },
      stats.map(stat => React.createElement(StatCard, { 
        key: stat.name,
        ...stat
      }))
    ),

    React.createElement('div', { className: 'space-y-4' },
      React.createElement(ActivitySection, {
        title: 'Commits',
        items: data.activity.code.commits
      }),
      React.createElement(ActivitySection, {
        title: 'Pull Requests',
        items: data.activity.code.pull_requests,
        showStatus: true
      }),
      React.createElement(ActivitySection, {
        title: 'Issues',
        items: data.activity.issues.opened || [],
        showStatus: true
      }),
      React.createElement(ActivitySection, {
        title: 'Comments',
        items: data.activity.engagement.comments
      })
    )
  );
};

// Initialize React root and render
const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(React.createElement(ContributorProfile, { data: window.__DATA__ }));
    </script>
</body>
</html>