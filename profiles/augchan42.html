
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>augchan42 - GitHub Contributions</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 dark:bg-gray-900">
    <div id="root"><div class="max-w-7xl mx-auto p-4 space-y-6"><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><img src="https://avatars.githubusercontent.com/u/20424105?u=d1a74732b07564927928798346f07cd50935c529&amp;v=4" alt="augchan42&#x27;s avatar" class="w-16 h-16 rounded-full"/><div><h1 class="text-2xl font-bold">augchan42</h1><div class="text-gray-600 dark:text-gray-400"><span class="font-semibold">Score: </span>117</div></div></div><div class="text-3xl font-bold text-blue-600 dark:text-blue-400">117</div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><p class="text-gray-700 dark:text-gray-300 text-sm leading-relaxed">Augchan42 is actively working on enhancing the core functionality by adding a circuit breaker pattern for database operations to improve system resilience. Additionally, they are focusing on improving voice configuration support and resolving build issues related to web-agent integration. Their recent commits also indicate efforts in fixing linter errors and streamlining ordering within turbo components.</p></div><div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Commits</h3><p class="text-2xl font-bold">14</p></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Pull Requests</h3><p class="text-2xl font-bold">8</p></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Issues</h3><p class="text-2xl font-bold">5</p></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Comments</h3><p class="text-2xl font-bold">2</p></div></div><div class="space-y-4"><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Commits</h3><span>▶</span></div></div><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Pull Requests</h3><span>▶</span></div></div><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Issues</h3><span>▶</span></div></div><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Comments</h3><span>▶</span></div></div></div></div></div>
    <script>
        window.__DATA__ = {"contributor":"augchan42","score":117,"summary":"Augchan42 is actively working on enhancing the core functionality by adding a circuit breaker pattern for database operations to improve system resilience. Additionally, they are focusing on improving voice configuration support and resolving build issues related to web-agent integration. Their recent commits also indicate efforts in fixing linter errors and streamlining ordering within turbo components.","avatar_url":"https://avatars.githubusercontent.com/u/20424105?u=d1a74732b07564927928798346f07cd50935c529&v=4","activity":{"code":{"total_commits":14,"total_prs":8,"commits":[{"sha":"418eb26085bfbe6d8ffd66d10809712537ef2770","message":"add back in schema check removed by accident","created_at":"2024-12-03T05:42:04Z","additions":26,"deletions":5,"changed_files":1},{"sha":"c2521de87d3149f494199a186f1ea9f5adbd2da3","message":"feature: (core) Add circuit breaker pattern for database operations - (fix conflicts)","created_at":"2024-12-03T03:57:03Z","additions":235,"deletions":121,"changed_files":3},{"sha":"607daa987ebfe71d70cae27de67b22217eb5a24d","message":"fix build as web-agent got removed","created_at":"2024-11-30T09:29:05Z","additions":7,"deletions":362,"changed_files":2},{"sha":"fb71a9777615afa49c7e2488ec7ebbbde7c0de50","message":"fix ordering for turbo","created_at":"2024-11-30T09:26:05Z","additions":2,"deletions":2,"changed_files":1},{"sha":"8ee6980ab882f2729016f10a7bd8654978e26628","message":"wtf vite and web-agent why am i fixing this","created_at":"2024-11-30T09:25:01Z","additions":75,"deletions":49,"changed_files":1},{"sha":"d46ab8fa34f266b5ea167dc74ab81f9bde19fa76","message":"feat(voice): enhance character card voice configuration support\n\n- Add comprehensive ElevenLabs configuration in character cards\n- Make ElevenLabs settings optional with sensible defaults\n- Implement configuration priority (character card > env vars > defaults)\n- Update schema validation to support optional fields\n- Add debug logging for voice selection process\n- Maintain backward compatibility with existing setups\n\nExample character card config:\n```json\n{\n    \"settings\": {\n        \"voice\": {\n            \"model\": \"en_GB-alan-medium\",\n            \"elevenlabs\": {\n                \"voiceId\": \"your-voice-id\",\n                \"model\": \"eleven_monolingual_v1\",\n                \"stability\": \"0.5\"\n            }\n        }\n    }\n}\n```\n\nCloses #694","created_at":"2024-11-30T09:22:38Z","additions":193,"deletions":162,"changed_files":7},{"sha":"5f4c2d922b66f8a8c0a5b1c2b9f1de8799de1c3f","message":"fix build first","created_at":"2024-11-30T09:22:37Z","additions":102,"deletions":7,"changed_files":1},{"sha":"c615598c788019806bf80d3850dc5521e20b097b","message":"fix build","created_at":"2024-11-30T09:21:10Z","additions":16,"deletions":8,"changed_files":2},{"sha":"da8f13475b6eb54837be135948444d7f211a7bd5","message":"comment out diagnostic logging","created_at":"2024-11-30T00:20:40Z","additions":5,"deletions":4,"changed_files":1},{"sha":"275ec7019ec19ea458e98a84ccc8d8c8dbe65411","message":"fix build first","created_at":"2024-11-30T00:18:52Z","additions":104,"deletions":70,"changed_files":2},{"sha":"dae8067386bf58e7f136986dab31284f697089bf","message":"fix build","created_at":"2024-11-30T00:14:17Z","additions":4,"deletions":4,"changed_files":1},{"sha":"2d7e1b0e100d5e2d0ff433a4c4a4e4bf28c2f7db","message":"fix linter errors","created_at":"2024-11-29T19:32:17Z","additions":2,"deletions":6,"changed_files":2},{"sha":"638eac67a83bd3346bb48ae5d5921857f44cf980","message":"feat: improve embeddings, models and connectivity\n\n- Add multiple embedding options:\n  - BGE-Small local embeddings (~70-80% of OpenAI quality)\n  - Ollama embeddings support\n  - Configure via env vars:\n    - USE_OPENAI_EMBEDDING=true\n    - USE_OLLAMA_EMBEDDING=true\n    - Both case-insensitive, default to false\n- Switch to Claude 3 Haiku from Claude 3.5 Haiku\n  - 4x cheaper\n  - Better instruction following\n  - Improved price/performance ratio\n- Enhance Postgres connectivity and reliability\n- Fix transcription error handling\n\nBreaking changes:\n- Claude 3.5 Haiku replaced with Claude 3 Haiku\n- Embedding system now configurable via string env vars (true)\n\nCloses #604","created_at":"2024-11-29T19:17:11Z","additions":1758,"deletions":722,"changed_files":23},{"sha":"c04310f07ff5d3f1c3c77744d238d3146b7aeb8e","message":"fix: discord permissions and duplicate reactions\n\n- Set correct bot invite permissions\n- Add duplicate reaction handling\n- Add /joinchannel command improvements\n\nfix #661","created_at":"2024-11-29T01:27:58Z","additions":156,"deletions":71,"changed_files":1}],"pull_requests":[{"number":812,"title":"feat: (core) Add circuit breaker pattern for database operations -…","state":"MERGED","merged":true,"created_at":"2024-12-03T03:59:02Z","updated_at":"2024-12-03T05:53:09Z","body":"Related to https://github.com/ai16z/eliza/pull/719\r\n\r\nFixes https://github.com/ai16z/eliza/issues/712\r\n\r\nThis PR implements the circuit breaker pattern directly in DatabaseAdapter as discussed in the previous PR.\r\n\r\nImplements circuit breaker pattern to handle database failures gracefully and prevent cascading failures. Fixes https://github.com/ai16z/eliza/issues/712.\r\n\r\nChanges:\r\n\r\nAdds CircuitBreaker class with CLOSED, OPEN, and HALF-OPEN states\r\nIntroduces BaseCircuitBreakerAdapter for database adapters\r\nConfigurable failure thresholds and recovery timeouts\r\nAutomatic recovery attempts in HALF-OPEN state\r\nDetailed logging of circuit breaker state changes\r\nCircuit breaker configuration:\r\n\r\nOpens after 5 consecutive failures (configurable)\r\nResets after 60 seconds in OPEN state\r\nRequires 3 successful operations in HALF-OPEN state to close\r\nThis helps prevent overwhelming failed database connections and provides graceful degradation during outages.","files":[{"path":"packages/adapter-postgres/src/index.ts","additions":106,"deletions":95},{"path":"packages/core/src/database.ts","additions":54,"deletions":0},{"path":"packages/core/src/database/CircuitBreaker.ts","additions":70,"deletions":0}],"reviews":[{"author":"shakkernerd","state":"COMMENTED","body":""},{"author":"shakkernerd","state":"APPROVED","body":"Good to go!"}],"comments":[{"author":"augchan42","body":"Sorry, added this back in, must have lost it from all the rebases that I\r\naborted, etc\r\n\r\nOn Tue, Dec 3, 2024 at 1:40 PM Shakker Nerd ***@***.***>\r\nwrote:\r\n\r\n> ***@***.**** commented on this pull request.\r\n> ------------------------------\r\n>\r\n> In packages/adapter-postgres/src/index.ts\r\n> <https://github.com/ai16z/eliza/pull/812#discussion_r1867083719>:\r\n>\r\n> > -        const client = await this.pool.connect();\r\n> -        try {\r\n> -            await client.query(\"BEGIN\");\r\n> -\r\n> -            // Check if schema already exists (check for a core table)\r\n> -            const { rows } = await client.query(`\r\n> -                SELECT EXISTS (\r\n> -                    SELECT FROM information_schema.tables\r\n> -                    WHERE table_name = 'rooms'\r\n> -                );\r\n> -            `);\r\n> -\r\n> -            if (!rows[0].exists) {\r\n> -                const schema = fs.readFileSync(\r\n> -                    path.resolve(__dirname, \"../schema.sql\"),\r\n> -                    \"utf8\"\r\n> -                );\r\n> -                await client.query(schema);\r\n> -            }\r\n> +        const schema = fs.readFileSync(\r\n> +            path.resolve(__dirname, \"../schema.sql\"),\r\n> +            \"utf8\"\r\n> +        );\r\n>\r\n> -            await client.query(\"COMMIT\");\r\n> -        } catch (error) {\r\n> -            await client.query(\"ROLLBACK\");\r\n> -            throw error;\r\n> -        } finally {\r\n> -            client.release();\r\n> -        }\r\n>\r\n> This check is critical and important.\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/ai16z/eliza/pull/812#pullrequestreview-2474628927>,\r\n> or unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/AE32LKPHZINE2FLSIQ66I7L2DU75RAVCNFSM6AAAAABS42PJCOVHI2DSMVQWIX3LMV43YUDVNRWFEZLROVSXG5CSMV3GSZLXHMZDINZUGYZDQOJSG4>\r\n> .\r\n> You are receiving this because you authored the thread.Message ID:\r\n> ***@***.***>\r\n>\r\n"},{"author":"shakkernerd","body":"It's fine.\r\nThanks for the work done!"}]},{"number":810,"title":"fix: (core) Add circuit breaker pattern for database operations","state":"CLOSED","merged":false,"created_at":"2024-12-03T03:50:14Z","updated_at":"2024-12-03T03:57:58Z","body":"Related to #719\r\n\r\nThis PR implements the circuit breaker pattern directly in DatabaseAdapter as discussed in the previous PR.\r\n\r\nImplements circuit breaker pattern to handle database failures gracefully and prevent cascading failures. Fixes https://github.com/ai16z/eliza/issues/712.\r\n\r\nChanges:\r\n\r\nAdds CircuitBreaker class with CLOSED, OPEN, and HALF-OPEN states\r\nIntroduces BaseCircuitBreakerAdapter for database adapters\r\nConfigurable failure thresholds and recovery timeouts\r\nAutomatic recovery attempts in HALF-OPEN state\r\nDetailed logging of circuit breaker state changes\r\nCircuit breaker configuration:\r\n\r\nOpens after 5 consecutive failures (configurable)\r\nResets after 60 seconds in OPEN state\r\nRequires 3 successful operations in HALF-OPEN state to close\r\nThis helps prevent overwhelming failed database connections and provides graceful degradation during outages.","files":[{"path":".vscode/settings.json","additions":3,"deletions":0},{"path":"packages/adapter-postgres/src/index.ts","additions":111,"deletions":121},{"path":"packages/core/src/database.ts","additions":54,"deletions":0},{"path":"packages/core/src/database/CircuitBreaker.ts","additions":70,"deletions":0}],"reviews":[],"comments":[{"author":"augchan42","body":"closing due to upstream changes again"}]},{"number":719,"title":"fix: (core) Add circuit breaker pattern for database operations","state":"CLOSED","merged":false,"created_at":"2024-11-30T14:01:14Z","updated_at":"2024-12-03T03:27:21Z","body":"Implements circuit breaker pattern to handle database failures gracefully and prevent cascading failures. Fixes #712.\r\n\r\nChanges:\r\n- Adds CircuitBreaker class with CLOSED, OPEN, and HALF-OPEN states\r\n- Introduces BaseCircuitBreakerAdapter for database adapters\r\n- Configurable failure thresholds and recovery timeouts\r\n- Automatic recovery attempts in HALF-OPEN state\r\n- Detailed logging of circuit breaker state changes\r\n\r\nCircuit breaker configuration:\r\n- Opens after 5 consecutive failures (configurable)\r\n- Resets after 60 seconds in OPEN state\r\n- Requires 3 successful operations in HALF-OPEN state to close\r\n\r\nThis helps prevent overwhelming failed database connections and provides graceful degradation during outages.\r\n\r\n## Discord username\r\nhosermage\r\n","files":[],"reviews":[],"comments":[{"author":"shakkernerd","body":"Hi, I like the idea but it changes the overall use of DatabaseAdapter. Hence, I think might cause breaking changes.\r\nIs there anyway you could implement this into the DatabaseAdapter class itself?"},{"author":"augchan42","body":"Ok, I changed the code to the way I think you wanted... please take a look.\r\n\r\nOn Sun, Dec 1, 2024 at 7:25 AM Shakker Nerd ***@***.***>\r\nwrote:\r\n\r\n> Hi, this looks good to me but changes the overall use of DatabaseAdapter.\r\n> Hence, I think might cause breaking changes.\r\n> Is there anyway you could implement this into the DatabaseAdapter class\r\n> itself?\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/ai16z/eliza/pull/719#issuecomment-2509475568>, or\r\n> unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/AE32LKLHEHAGOC2QTVVNNX32DJCM7AVCNFSM6AAAAABSYR5EZ6VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDKMBZGQ3TKNJWHA>\r\n> .\r\n> You are receiving this because you authored the thread.Message ID:\r\n> ***@***.***>\r\n>\r\n"},{"author":"shakkernerd","body":"Great, now its better.\r\nI will test locally and then merge in if no issue."},{"author":"lalalune","body":"lgtm, will leave for @shakkernerd to merge\r\nWe're moving fast, so there are some small merge conflicts in package lock, whoever is maintaining can just fix and merge"}]},{"number":713,"title":"fix: Add circuit breaker pattern for database operations","state":"CLOSED","merged":false,"created_at":"2024-11-30T10:25:31Z","updated_at":"2024-11-30T11:56:10Z","body":"Implements circuit breaker pattern to handle database failures gracefully\r\nand prevent cascading failures. Fixes #712.\r\n\r\nNote: Only postgres-adapter uses this for now, but base circuit breaker is in and can be used in other clients.\r\n\r\nChanges:\r\n- Adds CircuitBreaker class with CLOSED, OPEN, and HALF-OPEN states\r\n- Introduces BaseCircuitBreakerAdapter for database adapters\r\n- Configurable failure thresholds and recovery timeouts\r\n- Automatic recovery attempts in HALF-OPEN state\r\n- Detailed logging of circuit breaker state changes\r\n\r\nCircuit breaker configuration:\r\n- Opens after 5 consecutive failures (configurable)\r\n- Resets after 60 seconds in OPEN state\r\n- Requires 3 successful operations in HALF-OPEN state to close\r\n\r\nThis helps prevent overwhelming failed database connections and provides\r\ngraceful degradation during outages.","files":[],"reviews":[],"comments":[]},{"number":698,"title":"feat: (voice) enhance character card voice configuration support","state":"MERGED","merged":true,"created_at":"2024-11-30T03:09:15Z","updated_at":"2024-12-02T00:18:41Z","body":"feat(voice): enhance character card voice configuration support\r\n- Add comprehensive ElevenLabs configuration in character cards\r\n- Make ElevenLabs settings optional with sensible defaults\r\n- Implement configuration priority (character card > env vars > defaults)\r\n- Update schema validation to support optional fields\r\n- Add debug logging for voice selection process\r\n- Maintain backward compatibility with existing setups\r\n\r\nExample character card config:\r\n```json\r\n{\r\n    \"settings\": {\r\n        \"voice\": {\r\n            \"model\": \"en_GB-alan-medium\",\r\n            \"elevenlabs\": {\r\n                \"voiceId\": \"your-voice-id\",\r\n                \"model\": \"eleven_monolingual_v1\",\r\n                \"stability\": \"0.5\"\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nCloses https://github.com/ai16z/eliza/issues/694","files":[{"path":"agent/src/index.ts","additions":3,"deletions":10},{"path":"package.json","additions":2,"deletions":2},{"path":"packages/adapter-postgres/src/index.ts","additions":33,"deletions":12},{"path":"packages/core/src/types.ts","additions":11,"deletions":2},{"path":"packages/plugin-node/src/enviroment.ts","additions":55,"deletions":44},{"path":"packages/plugin-node/src/services/speech.ts","additions":94,"deletions":94},{"path":"packages/plugin-node/src/vendor/vitsVoiceList.ts","additions":6,"deletions":1},{"path":"pnpm-lock.yaml","additions":70,"deletions":304}],"reviews":[],"comments":[{"author":"augchan42","body":"BTW this PR also fixes the web-agent/vite build issues"},{"author":"shakkernerd","body":"> BTW this PR also fixes the web-agent/vite build issues\r\n\r\nThis is already fixed on recent main. "},{"author":"shakkernerd","body":"Can you start by resolving the conflicts and why are there so many changed files? It says 141 files right now."},{"author":"augchan42","body":"The changed files are autogenearated docs from the build process.  I'll\r\ntake a look\r\n\r\nOn Sat, Nov 30, 2024 at 3:11 PM Shakker Nerd ***@***.***>\r\nwrote:\r\n\r\n> Can you start by resolving the conflicts and why are there so many changed\r\n> files? It says 141 files right now.\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/ai16z/eliza/pull/698#issuecomment-2508866429>, or\r\n> unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/AE32LKN2RGJTZQRWHPCTD3L2DFQILAVCNFSM6AAAAABSYBSAV2VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDKMBYHA3DMNBSHE>\r\n> .\r\n> You are receiving this because you authored the thread.Message ID:\r\n> ***@***.***>\r\n>\r\n"},{"author":"augchan42","body":"From 141 files to 8, I re-ran the build and it works after removing the web-agent folder (had to fix target in package.json)"}]},{"number":688,"title":"Fix/logging issues","state":"MERGED","merged":true,"created_at":"2024-11-30T00:25:51Z","updated_at":"2024-11-30T02:35:30Z","body":"Was diagnosing verbose logging in the eliza logger, so this just comments it back out so that debug logging works normally again.\r\n\r\n```\r\n   if (!this.verbose) {\r\n            // for diagnosing verbose logging issues\r\n            // console.log(\r\n            //     \"[ElizaLogger] Debug message suppressed (verbose=false):\",\r\n            //     ...strings\r\n            // );\r\n            return;\r\n        }\r\n```        \r\n\r\nFixes https://github.com/ai16z/eliza/issues/687\r\n","files":[{"path":"packages/adapter-postgres/src/index.ts","additions":1,"deletions":2},{"path":"packages/core/src/logger.ts","additions":5,"deletions":4},{"path":"pnpm-lock.yaml","additions":102,"deletions":67}],"reviews":[],"comments":[{"author":"codecov","body":"## [Codecov](https://app.codecov.io/gh/ai16z/eliza/pull/688?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ai16z) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n\n| [Files with missing lines](https://app.codecov.io/gh/ai16z/eliza/pull/688?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ai16z) | Coverage Δ | |\n|---|---|---|\n| [packages/core/src/logger.ts](https://app.codecov.io/gh/ai16z/eliza/pull/688?src=pr&el=tree&filepath=packages%2Fcore%2Fsrc%2Flogger.ts&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ai16z#diff-cGFja2FnZXMvY29yZS9zcmMvbG9nZ2VyLnRz) | `50.21% <ø> (+0.86%)` | :arrow_up: |\n"},{"author":"twilwa","body":"I see some changes to pnpm-lock, are those intended to be included in the PR?"}]},{"number":677,"title":"feat: improve embeddings, models and connectivity","state":"MERGED","merged":true,"created_at":"2024-11-29T19:21:47Z","updated_at":"2024-11-30T01:33:38Z","body":"- Add multiple embedding options:\r\n  - BGE-Small local embeddings (~70-80% of OpenAI quality)\r\n  - Ollama embeddings support\r\n  - Configure via env vars:\r\n    - USE_OPENAI_EMBEDDING=true\r\n    - USE_OLLAMA_EMBEDDING=true\r\n    - Both case-insensitive, default to false\r\n- Switch to Claude 3 Haiku from Claude 3.5 Haiku\r\n  - 4x cheaper\r\n  - Better instruction following\r\n  - Improved price/performance ratio\r\n- Enhance Postgres connectivity and reliability\r\n- Fix transcription error handling\r\n\r\nBreaking changes:\r\n- Claude 3.5 Haiku replaced with Claude 3 Haiku\r\n- Embedding system now configurable via string env vars (true)\r\n\r\nCloses #604\r\n\r\n## Discord username\r\nhosermage\r\n\r\n","files":[{"path":".editorconfig","additions":12,"deletions":0},{"path":".env.example","additions":38,"deletions":41},{"path":".eslintrc.json","additions":47,"deletions":0},{"path":".vscode/settings.json","additions":45,"deletions":0},{"path":"agent/package.json","additions":12,"deletions":3},{"path":"agent/src/index.ts","additions":51,"deletions":5},{"path":"package.json","additions":7,"deletions":1},{"path":"packages/adapter-postgres/schema.sql","additions":19,"deletions":3},{"path":"packages/adapter-postgres/src/index.ts","additions":1074,"deletions":473},{"path":"packages/adapter-supabase/schema.sql","additions":48,"deletions":4},{"path":"packages/core/src/config.ts","additions":9,"deletions":0},{"path":"packages/core/src/embedding.ts","additions":238,"deletions":126},{"path":"packages/core/src/index.ts","additions":3,"deletions":1},{"path":"packages/core/src/knowledge.ts","additions":32,"deletions":1},{"path":"packages/core/src/logger.ts","additions":16,"deletions":4},{"path":"packages/core/src/models.ts","additions":5,"deletions":5},{"path":"packages/core/src/runtime.ts","additions":16,"deletions":11},{"path":"packages/core/src/settings.ts","additions":26,"deletions":0},{"path":"packages/core/src/types.ts","additions":1,"deletions":1},{"path":"packages/core/tsconfig.build.json","additions":8,"deletions":0},{"path":"packages/plugin-node/src/services/transcription.ts","additions":1,"deletions":1},{"path":"prettier.config.cjs","additions":3,"deletions":0},{"path":"scripts/build.sh","additions":46,"deletions":45}],"reviews":[],"comments":[{"author":"augchan42","body":"Check the .env.example file for this section:\r\n\r\n```\r\n# Feature Flags\r\nIMAGE_GEN=            # Set to TRUE to enable image generation\r\nUSE_OPENAI_EMBEDDING= # Set to TRUE for OpenAI/1536, leave blank for local\r\nUSE_OLLAMA_EMBEDDING= # Set to TRUE for OLLAMA/1024, leave blank for local\r\n```\r\n\r\nIf using OLLAMA, then set USE_OLLAMA_EMBEDDING=true and USE_OPENAI_EMBEDDING blank\r\n\r\nIf you want to use BGE/384 (local embeddings using BAAI General Embeddings small model)\r\nThen leave both USE_OLLAMA_EMBEDDING and USE_OPENAI_EMBEDDING blank.\r\n\r\nThese embeddings are for persisting and searching the memories table and are separate and distinct from LLM inference, and can be mixed and matched (I use Anthropic for inference, BGE for embeddings)"}]},{"number":662,"title":"fix: discord permissions and duplicate reactions, new /joinchannel command","state":"MERGED","merged":true,"created_at":"2024-11-29T01:32:13Z","updated_at":"2024-11-29T11:36:18Z","body":"- Set correct bot invite permissions\r\n- Add duplicate reaction handling\r\n- Add /joinchannel command improvements\r\n\r\nfix #661\r\n","files":[{"path":"packages/client-discord/src/index.ts","additions":156,"deletions":71}],"reviews":[],"comments":[]}]},"issues":{"total_opened":5,"opened":[{"number":712,"title":"feat: Add circuit breaker pattern for database operations","state":"CLOSED","created_at":"2024-11-30T10:22:13Z","updated_at":"2024-12-03T05:53:10Z","body":"Implements a circuit breaker pattern to handle database failures gracefully and prevent cascading failures. This change:\r\n\r\n- Adds CircuitBreaker class with CLOSED, OPEN, and HALF-OPEN states\r\n- Introduces BaseCircuitBreakerAdapter for database adapters\r\n- Configurable failure thresholds and recovery timeouts\r\n- Automatic recovery attempts in HALF-OPEN state\r\n- Detailed logging of circuit breaker state changes\r\n\r\nThe circuit breaker will:\r\n- Open after 5 consecutive failures (configurable)\r\n- Reset after 60 seconds in OPEN state\r\n- Require 3 successful operations in HALF-OPEN state to close\r\n\r\nThis helps prevent overwhelming failed database connections and provides \r\ngraceful degradation during outages.","labels":[{"name":"enhancement","color":"a2eeef","description":"New feature or request"}],"comments":[]},{"number":694,"title":"feat-Enhanced Voice Configuration Support in Character Cards","state":"CLOSED","created_at":"2024-11-30T02:15:40Z","updated_at":"2024-12-02T00:18:41Z","body":"Title: Enhanced Voice Configuration Support in Character Cards\r\n\r\n**Description**\r\nPreviously, voice settings from character configuration were not being properly respected when ElevenLabs was not in use. This enhancement adds comprehensive voice configuration support in character cards for both VITS and ElevenLabs, with proper fallbacks.\r\n\r\n**Changes Made**\r\n- Voice settings from character configuration are now properly used for both VITS and ElevenLabs\r\n- Automatic fallback to VITS when ElevenLabs API key is not present\r\n- Made ElevenLabs configuration fields optional in schema\r\n- Added better logging for voice selection process\r\n- Added support for full ElevenLabs configuration in character cards\r\n\r\n**Example Character Configuration**\r\n```json\r\n{\r\n    \"settings\": {\r\n        \"voice\": {\r\n            \"model\": \"en_GB-alan-medium\",  // For VITS\r\n            \"elevenlabs\": {   // Optional ElevenLabs configuration\r\n                \"voiceId\": \"your-voice-id\",\r\n                \"model\": \"eleven_monolingual_v1\",\r\n                \"stability\": \"0.5\",\r\n                \"similarityBoost\": \"0.75\",\r\n                \"style\": \"0\",\r\n                \"useSpeakerBoost\": \"true\"\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Configuration Priority**\r\n1. Character card settings\r\n2. Environment variables\r\n3. Default values\r\n\r\n**Benefits**\r\n- Consistent voice configuration behavior\r\n- Better character customization support\r\n- Clearer logging of voice selection\r\n- Simplified configuration requirements\r\n- Backward compatibility maintained\r\n- No breaking changes for existing setups\r\n\r\n**Technical Details**\r\n- Updated voice selection to check both VITS and ElevenLabs settings in character cards\r\n- Added comprehensive ElevenLabs configuration support in character cards\r\n- Made all ElevenLabs schema fields optional with sensible defaults\r\n- Maintained backward compatibility with existing environment variables\r\n- Added debug logging to track voice selection process\r\n\r\n**Labels**\r\n- enhancement\r\n- text-to-speech\r\n- configuration\r\n```","labels":[{"name":"enhancement","color":"a2eeef","description":"New feature or request"}],"comments":[]},{"number":687,"title":"Debug/Verbose eliza logging is always shown","state":"CLOSED","created_at":"2024-11-30T00:25:22Z","updated_at":"2024-11-30T02:35:25Z","body":"I introduced this with https://github.com/ai16z/eliza/pull/677\r\n\r\nWill create a small PR to fix this","labels":[{"name":"bug","color":"d73a4a","description":"Something isn't working"}],"comments":[]},{"number":661,"title":"Discord Client - gives 0 permissions for invite link on logger","state":"CLOSED","created_at":"2024-11-29T01:21:21Z","updated_at":"2024-11-29T11:36:17Z","body":"**Describe the bug**\r\n\r\nUpon startup if discord is a client, the invite link for the bot has hardcoded permissions = 0 in the logs.  This means the bot will have no permission to read or write messages\r\n\r\npackages/client-discord/src/index.ts:\r\n\r\n`            `https://discord.com/api/oauth2/authorize?client_id=${readyClient.user?.id}&permissions=0&scope=bot%20applications.commands`\r\n`\r\nI also ran into an issue with dupe reactions causing a crash due to colliding ids\r\nAnd gave the bot a new /joinchannel command to tell the bot to join a specific channel\r\n\r\n**To Reproduce**\r\nJust start the agent with a character card with discord enabled, you will see the following in the logs:\r\n\r\n\u001b[32m [2024-11-29T00:37:59.270Z] ✓ Use this URL to add the bot to your server: \u001b[0m\r\n\r\n\u001b[32m [2024-11-29T00:37:59.270Z] ✓ https://discord.com/api/oauth2/authorize?client_id=<your client id>8&permissions=0&scope=bot%20applications.commands \u001b[0m\r\n\r\n**Expected behavior**\r\n\r\nWe should see proper permissions for the bot to be able to respond and write messages\r\n\r\n**Additional context**\r\n\r\nWill create a PR that fixes all 3 issues described\r\n","labels":[{"name":"bug","color":"d73a4a","description":"Something isn't working"}],"comments":[]},{"number":604,"title":"Add support for local embeddings BGE/384","state":"CLOSED","created_at":"2024-11-26T03:58:59Z","updated_at":"2024-11-30T01:08:20Z","body":"**Is your feature request related to a problem? Please describe.**\r\n\r\nRight now only OpenAI embeddings are supported, which requires a call to OpenAI to embed and persist memories into pgvector\r\n\r\n**Describe the solution you'd like**\r\n\r\nThis will be property driven, depending on the existing environment variable USE_OPENAI_EMBEDDING, either OpenAI embeddings API will be used (current), or local BGESmallENV15 from fastembed\r\n\r\n**Describe alternatives you've considered**\r\nBGELarge is also a possibility, but BGE-Small is ~125MB vs ~420MB for BGE-Large, and BGE-Small performs at ~95-97% of BGE-Large's quality on most benchmarks.  BGE-Small is about 70-80% of OpenAI's embedding quality with no API cost and no latency.\r\n\r\n**Additional context**\r\n\r\nI have this running locally on supabase, and will cherry-pick out the changes for a new PR for this issue.\r\n","labels":[{"name":"enhancement","color":"a2eeef","description":"New feature or request"}],"comments":[{"author":"augchan42","body":"ok i tried for 2 days to create a clean PR for you guys, but couldn't do it.  Too many changes.  Here's the commit with my changes that adds support for BGE/384 local embeddings\r\n\r\nhttps://github.com/ai16z/eliza/commit/59b82ba466ba6d38aa764becb68b68ab7b96e15a\r\n\r\n"},{"author":"augchan42","body":"Heres the details - check the .env.example file for this section:\r\n\r\n```\r\n# Feature Flags\r\nIMAGE_GEN=            # Set to TRUE to enable image generation\r\nUSE_OPENAI_EMBEDDING= # Set to TRUE for OpenAI/1536, leave blank for local\r\nUSE_OLLAMA_EMBEDDING= # Set to TRUE for OLLAMA/1024, leave blank for local\r\n```\r\n\r\nIf using OLLAMA, then set USE_OLLAMA_EMBEDDING=true and USE_OPENAI_EMBEDDING blank\r\n\r\nIf you want to use BGE/384 (local embeddings using BAAI General Embeddings small model)\r\nThen leave both USE_OLLAMA_EMBEDDING and USE_OPENAI_EMBEDDING blank.\r\n\r\nThese embeddings are for persisting and searching the memories table and are separate and distinct from LLM inference, and can be mixed and matched (I use Anthropic for inference, BGE for embeddings)"}]}]},"engagement":{"total_comments":2,"total_reviews":2,"comments":[],"reviews":[]}}};
    </script>
    <script type="text/javascript">
        
const StatusDot = ({ status }) => {
  const colors = {
    open: 'bg-green-500',
    closed: 'bg-red-500',
    merged: 'bg-purple-500'
  };

  return React.createElement('span', {
    className: `inline-block w-2 h-2 rounded-full ${colors[status]} mr-2`
  });
};

const ActivitySection = ({ title, items = [], showStatus = false }) => {
  const [isExpanded, setIsExpanded] = React.useState(false);
  
  const getStatus = (item) => {
    if (item.state === 'merged' || (item.state === 'closed' && title === 'Pull Requests')) {
      return 'merged';
    }
    return item.state || 'open';
  };

  return React.createElement('div', { className: 'border rounded-lg p-4' },
    React.createElement('div', {
      className: 'flex items-center justify-between cursor-pointer',
      onClick: () => setIsExpanded(!isExpanded)
    },
      React.createElement('h3', { className: 'font-semibold' }, title),
      React.createElement('span', null, isExpanded ? '▼' : '▶')
    ),
    isExpanded && React.createElement('div', { className: 'mt-4 space-y-2' },
      items.map((item, index) => 
        React.createElement('div', { key: index, className: 'p-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded' },
          React.createElement('a', {
            href: item.url,
            target: '_blank',
            rel: 'noopener noreferrer',
            className: 'text-sm hover:text-blue-500 flex flex-col gap-1'
          },
            React.createElement('span', { className: 'font-medium flex items-center' },
              showStatus && React.createElement(StatusDot, { status: getStatus(item) }),
              item.message || item.title || item.body
            ),
            React.createElement('span', { className: 'text-gray-500 text-xs' },
              new Date(item.date || item.created_at).toLocaleDateString()
            )
          )
        )
      )
    )
  );
};

const StatCard = ({ name, value }) => {
  return React.createElement('div', { className: 'bg-white dark:bg-gray-800 rounded-lg p-6 shadow' },
    React.createElement('h3', { className: 'font-semibold' }, name),
    React.createElement('p', { className: 'text-2xl font-bold' }, value)
  );
};

const ContributorProfile = ({ data }) => {
  const stats = [
    { name: 'Commits', value: data.activity.code.total_commits },
    { name: 'Pull Requests', value: data.activity.code.total_prs },
    { name: 'Issues', value: data.activity.issues.total_opened },
    { name: 'Comments', value: data.activity.engagement.total_comments }
  ];

  return React.createElement('div', { className: 'max-w-7xl mx-auto p-4 space-y-6' },
    React.createElement('div', { className: 'bg-white dark:bg-gray-800 rounded-lg p-6 shadow' },
      React.createElement('div', { className: 'flex items-center justify-between' },
        React.createElement('div', { className: 'flex items-center gap-4' },
          React.createElement('img', {
            src: data.avatar_url,
            alt: `${data.contributor}'s avatar`,
            className: 'w-16 h-16 rounded-full'
          }),
          React.createElement('div', null,
            React.createElement('h1', { className: 'text-2xl font-bold' }, data.contributor),
            React.createElement('div', { className: 'text-gray-600 dark:text-gray-400' },
              React.createElement('span', { className: 'font-semibold' }, 'Score: '),
              data.score
            )
          )
        )
      )
    ),

    data.summary && React.createElement('div', { 
      className: 'bg-white dark:bg-gray-800 rounded-lg p-6 shadow'
    },
      React.createElement('p', { 
        className: 'text-gray-700 dark:text-gray-300 text-sm leading-relaxed'
      }, data.summary)
    ),

    React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-4 gap-4' },
      stats.map(stat => React.createElement(StatCard, { 
        key: stat.name,
        ...stat
      }))
    ),

    React.createElement('div', { className: 'space-y-4' },
      React.createElement(ActivitySection, {
        title: 'Commits',
        items: data.activity.code.commits
      }),
      React.createElement(ActivitySection, {
        title: 'Pull Requests',
        items: data.activity.code.pull_requests,
        showStatus: true
      }),
      React.createElement(ActivitySection, {
        title: 'Issues',
        items: data.activity.issues.opened || [],
        showStatus: true
      }),
      React.createElement(ActivitySection, {
        title: 'Comments',
        items: data.activity.engagement.comments
      })
    )
  );
};

// Initialize React root and render
const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(React.createElement(ContributorProfile, { data: window.__DATA__ }));
    </script>
</body>
</html>