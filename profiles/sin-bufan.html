
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sin-bufan - GitHub Contributions</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 dark:bg-gray-900">
    <div id="root"><div class="max-w-7xl mx-auto p-4 space-y-6"><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><img src="https://avatars.githubusercontent.com/u/9634610?u=5b6a8fe2b8d4cf4eaf793b9efae76569e9b6ea0e&amp;v=4" alt="sin-bufan&#x27;s avatar" class="w-16 h-16 rounded-full"/><div><h1 class="text-2xl font-bold">sin-bufan</h1><div class="text-gray-600 dark:text-gray-400"><span class="font-semibold">Score: </span>49</div></div></div><div class="text-3xl font-bold text-blue-600 dark:text-blue-400">49</div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><p class="text-gray-700 dark:text-gray-300 text-sm leading-relaxed">Sin-bufan is actively improving the farcaster client by adding callbacks to process actions, storing cast hashes in memory for efficiency, and resolving issues where the client fails to fire actions. With a focus on enhancing functionality within packages, sin-bufan has made significant progress with two merged pull requests and five commits resulting in positive code changes.</p></div><div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Commits</h3><p class="text-2xl font-bold">5</p></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Pull Requests</h3><p class="text-2xl font-bold">2</p></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Issues</h3><p class="text-2xl font-bold">0</p></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Comments</h3><p class="text-2xl font-bold">0</p></div></div><div class="space-y-4"><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Commits</h3><span>▶</span></div></div><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Pull Requests</h3><span>▶</span></div></div><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Issues</h3><span>▶</span></div></div><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Comments</h3><span>▶</span></div></div></div></div></div>
    <script>
        window.__DATA__ = {"contributor":"sin-bufan","score":49,"summary":"Sin-bufan is actively improving the farcaster client by adding callbacks to process actions, storing cast hashes in memory for efficiency, and resolving issues where the client fails to fire actions. With a focus on enhancing functionality within packages, sin-bufan has made significant progress with two merged pull requests and five commits resulting in positive code changes.","avatar_url":"https://avatars.githubusercontent.com/u/9634610?u=5b6a8fe2b8d4cf4eaf793b9efae76569e9b6ea0e&v=4","activity":{"code":{"total_commits":5,"total_prs":2,"commits":[{"sha":"0522ad45e274d2636156b76e3a13bdde3238fba7","message":"add callback to processActions in farcaster client","created_at":"2024-12-12T02:51:19Z","additions":46,"deletions":35,"changed_files":1},{"sha":"1a5978eeb7b7015e053f4cd650765ac7186f16cf","message":"add cast hash to memory in processActions","created_at":"2024-12-10T18:55:23Z","additions":1,"deletions":1,"changed_files":1},{"sha":"49b6672bb9df7c81e05d6440135e155e8b0d9709","message":"fix: farcaster client does NOT fire action","created_at":"2024-12-10T18:55:23Z","additions":15,"deletions":9,"changed_files":1},{"sha":"fc0600223234518da2447ccaf0eefb3c792eaffe","message":"add cast hash to memory in processActions","created_at":"2024-12-10T09:26:15Z","additions":1,"deletions":1,"changed_files":1},{"sha":"01e093274d2f589df76df523019483f6b1e9660d","message":"fix: farcaster client does NOT fire action","created_at":"2024-12-10T09:24:10Z","additions":15,"deletions":9,"changed_files":1}],"pull_requests":[{"number":1002,"title":"fix: add callback to action in farcaster client","state":"MERGED","merged":true,"created_at":"2024-12-12T03:02:52Z","updated_at":"2024-12-12T03:11:02Z","body":"# Relates to:\r\n\r\nAdds callback to action in farcaster client\r\n\r\n# Risks\r\n\r\nLow\r\nOnly adds callback parameter to action handling\r\nNo structural changes to the codebase\r\nNo database schema changes\r\n\r\n# Background\r\n\r\n## What does this PR do?\r\n\r\nAdds callback parameter implement in Farcaster client action handler to enable:\r\n\r\n1. Proper action chaining\r\n2. Response tracking for actions\r\n3. Memory updates after action execution\r\n\r\n## What kind of change is this?\r\n\r\nImprovements (misc. changes to existing features)\r\n\r\n## Why are we doing this? Any context or related work?\r\nThe Farcaster client's action system needs to support callbacks for several reasons:\r\n\r\n1. Actions often need to trigger follow-up responses\r\n2. We need to track and store the results of actions\r\n3. Some actions require updating the conversation memory\r\n4. Complex action chains require proper state management\r\n\r\nThis improvement enables features such as:\r\n\r\n- Multi-step action sequences\r\n- Better error handling for actions\r\n- Proper memory updates after action execution\r\n- More sophisticated bot behaviors\r\n\r\n# Documentation changes needed?\r\n\r\nMy changes do not require a change to the project documentation.\r\n\r\n# Testing\r\n\r\n## Where should a reviewer start?\r\n\r\n1. Review the changes in packages/client-farcaster/src/interactions.ts\r\n2. Focus on the action handler implementation and callback integration\r\n\r\n## Detailed testing steps\r\n\r\n1. Set up a test Farcaster bot\r\n2. Test an action that requires callbacks\r\n3. Verify that:\r\n\r\n- The action executes properly\r\n- The callback is triggered\r\n- Memory is updated correctly\r\n- Any follow-up actions are properly chained\r\n\r\n## Discord username\r\nsin_bufan\r\n","files":[{"path":"packages/client-farcaster/src/interactions.ts","additions":46,"deletions":35}],"reviews":[{"author":"shakkernerd","state":"APPROVED","body":""}],"comments":[]},{"number":963,"title":"Fix farcaster client process action issue","state":"MERGED","merged":true,"created_at":"2024-12-10T10:01:09Z","updated_at":"2024-12-10T16:30:21Z","body":"# Relates to:\r\n\r\nFix the bug where Farcaster client does NOT fire any actions\r\n\r\n# Risks\r\n\r\nLow\r\nOnly fixes action handling in existing functionality\r\nNo structural changes to the codebase\r\nNo database schema changes\r\n\r\n# Background\r\n\r\n## What does this PR do?\r\n\r\n1. Fixes the bug where Farcaster client does not fire any actions\r\n2. Adds cast hash to message memory for later use in action handler\r\n\r\n## What kind of change is this?\r\n\r\nBug fixes (non-breaking change which fixes an issue)\r\n\r\n## Why are we doing this? Any context or related work?\r\n\r\nCurrently, when the Farcaster client generates responses that should trigger actions (like following a user or reacting to a cast), these actions are not being executed. This happens because:\r\n\r\n1. The action information is being lost during the response chain\r\n2. The cast hash, which is necessary for some actions, is not properly stored in the message memory\r\n3. The action handlers don't receive the complete context they need\r\n\r\nThis bug prevents important bot functionalities from working, such as:\r\n\r\n- Automatic following of users who interact with the bot\r\n- Reacting to casts when appropriate\r\n- Any custom actions defined in the bot's behavior\r\n\r\n\r\n# Documentation changes needed?\r\n\r\nMy changes do not require a change to the project documentation.\r\n\r\n# Testing\r\n\r\n## Where should a reviewer start?\r\n\r\n1. Review the changes in packages/client-farcaster/src/interactions.ts\r\n2. Focus on the handleCast method where action handling is fixed\r\n\r\n## Detailed testing steps\r\n\r\n1. Set up a test Farcaster bot\r\n2. Send a mention that should trigger an action\r\n3. Verify that:\r\n- The bot responds appropriately\r\n- Actions are properly fired\r\n- Cast hash is correctly stored in message memory\r\n- Action handlers receive the necessary context\r\n\r\n## Discord username\r\nsin_bufan\r\n","files":[{"path":"packages/client-farcaster/src/interactions.ts","additions":16,"deletions":10}],"reviews":[{"author":"monilpat","state":"APPROVED","body":"LGTM - thanks for doing this :) "},{"author":"odilitime","state":"APPROVED","body":""}],"comments":[]}]},"issues":{"total_opened":0,"opened":[]},"engagement":{"total_comments":0,"total_reviews":3,"comments":[],"reviews":[]}}};
    </script>
    <script type="text/javascript">
        
const StatusDot = ({ status }) => {
  const colors = {
    open: 'bg-green-500',
    closed: 'bg-red-500',
    merged: 'bg-purple-500'
  };

  return React.createElement('span', {
    className: `inline-block w-2 h-2 rounded-full ${colors[status]} mr-2`
  });
};

const ActivitySection = ({ title, items = [], showStatus = false }) => {
  const [isExpanded, setIsExpanded] = React.useState(false);
  
  const getStatus = (item) => {
    if (item.state === 'merged' || (item.state === 'closed' && title === 'Pull Requests')) {
      return 'merged';
    }
    return item.state || 'open';
  };

  return React.createElement('div', { className: 'border rounded-lg p-4' },
    React.createElement('div', {
      className: 'flex items-center justify-between cursor-pointer',
      onClick: () => setIsExpanded(!isExpanded)
    },
      React.createElement('h3', { className: 'font-semibold' }, title),
      React.createElement('span', null, isExpanded ? '▼' : '▶')
    ),
    isExpanded && React.createElement('div', { className: 'mt-4 space-y-2' },
      items.map((item, index) => 
        React.createElement('div', { key: index, className: 'p-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded' },
          React.createElement('a', {
            href: item.url,
            target: '_blank',
            rel: 'noopener noreferrer',
            className: 'text-sm hover:text-blue-500 flex flex-col gap-1'
          },
            React.createElement('span', { className: 'font-medium flex items-center' },
              showStatus && React.createElement(StatusDot, { status: getStatus(item) }),
              item.message || item.title || item.body
            ),
            React.createElement('span', { className: 'text-gray-500 text-xs' },
              new Date(item.date || item.created_at).toLocaleDateString()
            )
          )
        )
      )
    )
  );
};

const StatCard = ({ name, value }) => {
  return React.createElement('div', { className: 'bg-white dark:bg-gray-800 rounded-lg p-6 shadow' },
    React.createElement('h3', { className: 'font-semibold' }, name),
    React.createElement('p', { className: 'text-2xl font-bold' }, value)
  );
};

const ContributorProfile = ({ data }) => {
  const stats = [
    { name: 'Commits', value: data.activity.code.total_commits },
    { name: 'Pull Requests', value: data.activity.code.total_prs },
    { name: 'Issues', value: data.activity.issues.total_opened },
    { name: 'Comments', value: data.activity.engagement.total_comments }
  ];

  return React.createElement('div', { className: 'max-w-7xl mx-auto p-4 space-y-6' },
    React.createElement('div', { className: 'bg-white dark:bg-gray-800 rounded-lg p-6 shadow' },
      React.createElement('div', { className: 'flex items-center justify-between' },
        React.createElement('div', { className: 'flex items-center gap-4' },
          React.createElement('img', {
            src: data.avatar_url,
            alt: `${data.contributor}'s avatar`,
            className: 'w-16 h-16 rounded-full'
          }),
          React.createElement('div', null,
            React.createElement('h1', { className: 'text-2xl font-bold' }, data.contributor),
            React.createElement('div', { className: 'text-gray-600 dark:text-gray-400' },
              React.createElement('span', { className: 'font-semibold' }, 'Score: '),
              data.score
            )
          )
        )
      )
    ),

    data.summary && React.createElement('div', { 
      className: 'bg-white dark:bg-gray-800 rounded-lg p-6 shadow'
    },
      React.createElement('p', { 
        className: 'text-gray-700 dark:text-gray-300 text-sm leading-relaxed'
      }, data.summary)
    ),

    React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-4 gap-4' },
      stats.map(stat => React.createElement(StatCard, { 
        key: stat.name,
        ...stat
      }))
    ),

    React.createElement('div', { className: 'space-y-4' },
      React.createElement(ActivitySection, {
        title: 'Commits',
        items: data.activity.code.commits
      }),
      React.createElement(ActivitySection, {
        title: 'Pull Requests',
        items: data.activity.code.pull_requests,
        showStatus: true
      }),
      React.createElement(ActivitySection, {
        title: 'Issues',
        items: data.activity.issues.opened || [],
        showStatus: true
      }),
      React.createElement(ActivitySection, {
        title: 'Comments',
        items: data.activity.engagement.comments
      })
    )
  );
};

// Initialize React root and render
const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(React.createElement(ContributorProfile, { data: window.__DATA__ }));
    </script>
</body>
</html>