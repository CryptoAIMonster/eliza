
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HashWarlock - GitHub Contributions</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 dark:bg-gray-900">
    <div id="root"><div class="max-w-7xl mx-auto p-4 space-y-6"><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><img src="https://avatars.githubusercontent.com/u/64296537?u=3aba9462fb28d3b01bdc8ac888817386b6bf3266&amp;v=4" alt="HashWarlock&#x27;s avatar" class="w-16 h-16 rounded-full"/><div><h1 class="text-2xl font-bold">HashWarlock</h1><div class="text-gray-600 dark:text-gray-400"><span class="font-semibold">Score: </span>233</div></div></div><div class="text-3xl font-bold text-blue-600 dark:text-blue-400">233</div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><p class="text-gray-700 dark:text-gray-300 text-sm leading-relaxed">HashWarlock is actively enhancing the documentation for Eliza&#x27;s TEE integration by adding overviews, tutorials, and a skeleton docs page. They are also focused on improving security features such as remote attestation providers within a new TEE plugin while optimizing Docker images to reduce build times and image sizes significantly.</p></div><div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Commits</h3><p class="text-2xl font-bold">27</p></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Pull Requests</h3><p class="text-2xl font-bold">10</p></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Issues</h3><p class="text-2xl font-bold">2</p></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Comments</h3><p class="text-2xl font-bold">1</p></div></div><div class="space-y-4"><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Commits</h3><span>▶</span></div></div><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Pull Requests</h3><span>▶</span></div></div><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Issues</h3><span>▶</span></div></div><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Comments</h3><span>▶</span></div></div></div></div></div>
    <script>
        window.__DATA__ = {"contributor":"HashWarlock","score":233,"summary":"HashWarlock is actively enhancing the documentation for Eliza's TEE integration by adding overviews, tutorials, and a skeleton docs page. They are also focused on improving security features such as remote attestation providers within a new TEE plugin while optimizing Docker images to reduce build times and image sizes significantly.","avatar_url":"https://avatars.githubusercontent.com/u/64296537?u=3aba9462fb28d3b01bdc8ac888817386b6bf3266&v=4","activity":{"code":{"total_commits":27,"total_prs":10,"commits":[{"sha":"24284fab3a6e7f6ddea0f3da0fe1bbadba712f1d","message":"fix: remove undefined function, add lint to plugin-tee","created_at":"2024-12-10T14:34:52Z","additions":7,"deletions":6,"changed_files":5},{"sha":"1115c6837348ee830d837ebebcd9ec343912b094","message":"Merge branch 'main' into add-tee-mode","created_at":"2024-12-09T00:21:54Z","additions":4226,"deletions":675,"changed_files":75},{"sha":"53ba05702565ab59201a48836ea3284332b42695","message":"fix: resolve lint errors","created_at":"2024-12-08T17:05:23Z","additions":3,"deletions":20,"changed_files":9},{"sha":"29689d108ece7751fa6776e87870b3c9458fd735","message":"Merge branch 'main' into add-tee-mode","created_at":"2024-12-07T23:13:30Z","additions":14433,"deletions":4858,"changed_files":276},{"sha":"ba18167001109f931b1637e02671b1af0c28a41c","message":"docs: add overview","created_at":"2024-12-07T23:09:26Z","additions":12,"deletions":1,"changed_files":1},{"sha":"d052002a94a018f9876198e583a5d5ab3b0143aa","message":"docs: add tutorial for Eliza in TEE","created_at":"2024-12-07T22:59:31Z","additions":282,"deletions":4,"changed_files":2},{"sha":"cfe7cad3ca5a4a9a461912c17d4071c093c42ff1","message":"Add skeleton of docs page for Eliza in TEE","created_at":"2024-12-06T04:07:35Z","additions":36,"deletions":0,"changed_files":4},{"sha":"bd6032b7761f1a7e0fd52fbd0d47f46f939d20e4","message":"upgrade the dstack-sdk version and clean up logging for remote attestation","created_at":"2024-12-06T03:38:02Z","additions":7,"deletions":7,"changed_files":3},{"sha":"aa21a9b964abdd33cb39c4577af5d14a3df7b198","message":"refactor: extract getting the public key or keypair to reduce repetitive code","created_at":"2024-12-05T23:38:05Z","additions":109,"deletions":210,"changed_files":9},{"sha":"64a25409028b0620554490e84c529f419da9d1f3","message":"update .env.example with TEE_MODE","created_at":"2024-12-04T15:56:00Z","additions":6,"deletions":1,"changed_files":1},{"sha":"8a5f77910bd4b1ec851272a3944f2db84badb89a","message":"add reportdata hash to log for users to verify","created_at":"2024-12-04T04:45:43Z","additions":6,"deletions":2,"changed_files":2},{"sha":"d8470eb75a5c5d6906e6ffbf593984039accf49b","message":"feat: add TEE mode to Solana Plugin","created_at":"2024-12-04T04:33:02Z","additions":399,"deletions":112,"changed_files":17},{"sha":"10215bb5916bf8be266bed96c0dd71fed373d6b9","message":"refactor: refactor dockerfile to reduce image from 6GB to 3GB and cut build time in half","created_at":"2024-12-02T01:22:24Z","additions":46,"deletions":21,"changed_files":1},{"sha":"2a4607a368d53dc778d4271f341b692cbb19e0f3","message":"fix docker image and reduce build time","created_at":"2024-11-30T04:07:48Z","additions":17,"deletions":68,"changed_files":2},{"sha":"4897043b5f13b04f7f51f5ff180f6873ebbe1758","message":"fix: add comment to make it clear what the variable is used for","created_at":"2024-11-29T19:38:01Z","additions":1,"deletions":1,"changed_files":1},{"sha":"fa89b3b1ec9e80cdbd065c485d1589c7a3160a56","message":"fix: remove default salt to remove launch agent errors & add tee plugin back into agent startup file","created_at":"2024-11-29T19:28:44Z","additions":3,"deletions":2,"changed_files":2},{"sha":"e8d829c4ca7d030f6cafc9d7f4f30763841b665c","message":"fix: add missing viem dependency","created_at":"2024-11-29T18:09:04Z","additions":3,"deletions":2,"changed_files":1},{"sha":"985e2766fa93affd85e79eb2d7b611b270b47451","message":"fix: Add docs, update provider and remove walletProvider from providers","created_at":"2024-11-28T06:21:22Z","additions":177,"deletions":33,"changed_files":7},{"sha":"d95b102cab6ecce420bb390a54febee2adb78ba3","message":"Merge branch 'main' into tee-plugin","created_at":"2024-11-27T18:09:59Z","additions":19340,"deletions":5052,"changed_files":366},{"sha":"147adde8d6a7596d831064dc0be2ca0872c42a7c","message":"feat: add class to remote attestation and derive key to call provider functions","created_at":"2024-11-27T17:32:53Z","additions":119,"deletions":27,"changed_files":5},{"sha":"02647806546bd558ce9eabaa33f3a8c100a17fa4","message":"fix: reduce docker image size from 11.1GB to 5.79GB","created_at":"2024-11-26T05:04:48Z","additions":63,"deletions":20,"changed_files":1},{"sha":"13f921afcfdc49361149c409b8ab7b4de580c213","message":"feat: update dockerfile and add docker-compose yaml file to deploy in TEE","created_at":"2024-11-26T01:15:14Z","additions":53,"deletions":3,"changed_files":2},{"sha":"aa5d009df083840a36ef55ff70e3619cae789f9a","message":"chore: remove log print of api key","created_at":"2024-11-22T21:53:26Z","additions":0,"deletions":1,"changed_files":1},{"sha":"66637cd244b7e820114783f9547227f00c019740","message":"feat: add wallet provider to use derived key to generate wallet","created_at":"2024-11-22T20:25:54Z","additions":361,"deletions":33,"changed_files":8},{"sha":"1995b56c2c519baab18520f03bd04c82be90b8e3","message":"create TEE plugin with derive key and remote attestation providers","created_at":"2024-11-22T16:56:34Z","additions":166,"deletions":0,"changed_files":11},{"sha":"9e7a3da75d496b013e6c8efe0d25d03516c6d12f","message":"Add RedPill API Key variable","created_at":"2024-11-04T17:38:48Z","additions":1,"deletions":0,"changed_files":1},{"sha":"e5c8f3fca5c4f683cc9805fad844dce6428a2872","message":"Add RedPill API Support","created_at":"2024-11-04T17:27:46Z","additions":10853,"deletions":13459,"changed_files":5}],"pull_requests":[{"number":1050,"title":"fix: add auto to clients in types to use client-auto","state":"MERGED","merged":true,"created_at":"2024-12-13T21:23:21Z","updated_at":"2024-12-13T21:28:58Z","body":"<!-- Use this template by filling in information and copy and pasting relevant items out of the html comments. -->\r\n\r\n# Relates to:\r\n#1049 \r\n<!-- LINK TO ISSUE OR TICKET -->\r\n\r\n<!-- This risks section is to be filled out before final review and merge. -->\r\n\r\n# Risks\r\nLow\r\n<!--\r\nLow, medium, large. List what kind of risks, and what could be effected.\r\n-->\r\n\r\n# Background\r\nWhen a character file tries enable Client-Auto, the agent startup will fail.\r\n## What does this PR do?\r\nThis PR fixes the error by defining the enum `AUTO = \"auto\"` in the the types file for core.\r\n## What kind of change is this?\r\nBug fix\r\n<!--\r\nBug fixes (non-breaking change which fixes an issue)\r\nImprovements (misc. changes to existing features)\r\nFeatures (non-breaking change which adds functionality)\r\nUpdates (new versions of included code)\r\n-->\r\n\r\n<!-- This \"Why\" section is most relevant if there is no linked issue explaining why. If there is a related issue it might make sense to skip this why section. -->\r\n<!--\r\n## Why are we doing this? Any context or related work?\r\n-->\r\n\r\n# Documentation changes needed?\r\nNo\r\n<!--\r\nMy changes do not require a change to the project documentation.\r\nMy changes require a change to the project documentation.\r\nIf a docs change is needed: I have updated the documentation accordingly.\r\n-->\r\n\r\n<!-- Please show how you tested the PR. This will really help if the PR needs to be retested, and probably help the PR get merged quicker. -->\r\n\r\n# Testing\r\n\r\n## Where should a reviewer start?\r\nFresh install and build the agent then try to run a character with auto enabled.\r\n## Detailed testing steps\r\nDefine the \"clients\": [\"auto\"], in the character file to reproduce the error.\r\n<!--\r\nNone, automated tests are fine.\r\n-->\r\n\r\n<!--\r\n- As [anon/admin], go to [link]\r\n  - [do action]\r\n  - verify [result]\r\n-->\r\n\r\n<!-- If there is a UI change, please include before and after screenshots or videos. This will speed up PRs being merged. It is extra nice to annotate screenshots with arrows or boxes pointing out the differences. -->\r\n## Screenshots\r\n### Before\r\n![image](https://github.com/user-attachments/assets/172ab5ed-0f79-415c-8179-9326039e545f)\r\n\r\n### After\r\n![image](https://github.com/user-attachments/assets/87d1f210-7156-4b81-a5a7-0e2eea90499d)\r\n\r\n<!-- If there is anything about the deploy, please make a note. -->\r\n<!--\r\n# Deploy Notes\r\n-->\r\n\r\n<!--  Copy and paste commandline output. -->\r\n<!--\r\n## Database changes\r\n-->\r\n\r\n<!--  If there is something more than the automated steps, please specifiy deploy instructions. -->\r\n<!--\r\n## Deployment instructions\r\n-->\r\n\r\n<!-- If you are on Discord, please join https://discord.gg/elizaos and state your Discord username here for contribute role and join us in #development-feed -->\r\n<!--\r\n## Discord username\r\n\r\n-->\r\n","files":[{"path":"packages/client-auto/src/index.ts","additions":2,"deletions":2},{"path":"packages/core/src/types.ts","additions":1,"deletions":0}],"reviews":[{"author":"odilitime","state":"APPROVED","body":""}],"comments":[]},{"number":835,"title":"feat: Add TEE Mode to Solana Plugin","state":"MERGED","merged":true,"created_at":"2024-12-04T05:20:06Z","updated_at":"2024-12-10T19:51:59Z","body":"<!-- Use this template by filling in information and copy and pasting relevant items out of the html comments. -->\r\n\r\n# Relates to:\r\nTEE Plugin\r\n<!-- LINK TO ISSUE OR TICKET -->\r\n\r\n<!-- This risks section is to be filled out before final review and merge. -->\r\n\r\n# Risks\r\nmedium\r\nThis PR should go through extra testing to ensure the Solana Plugin does not break with the addition of the TEE Plugin for key derivation and remote attestations.\r\n<!--\r\nLow, medium, large. List what kind of risks, and what could be effected.\r\n-->\r\n\r\n# Background\r\nCurrently the Solana and EVM Plugin are not aware of the TEE Plugin and a lot of custom code and configuration must be done to add deployment of Eliza agents in a TEE. This PR solves this issue by making the TEE Plugin an opt-in feature that allows developers to build a TEE compatible Eliza Agent to deploy in a Intel TDX Server running the Dstack SDK.\r\n## What does this PR do?\r\nThis PR adds a new env variable called `TEE_MODE` with values of `OFF`, `LOCAL`, `DOCKER`, `PRODUCTION`. When the  `TEE_MODE` is set to an option other than `OFF` or `undefined` then the agent will utilize the TEE Plugin to handle wallet generations for the Solana Plugin.\r\n\r\nEvery time a key is derived to generate a wallet in the Solana Plugin the following happens:\r\n- Derives an ed25519 key based on the value of the `WALLET_SECRET_SALT`\r\n- Generates a Remote Attestation Quote with the `reportdata` that includes a JSON string of `{agentId: ${agentId}, publicKey: ${publicKey}}`\r\n- In the logs, a user can take the RA Quote and the `reportdata` to verify publicly at https://ra-quote-explorer.vercel.app/ \r\n## What kind of change is this?\r\nFeature\r\n<!--\r\nBug fixes (non-breaking change which fixes an issue)\r\nImprovements (misc. changes to existing features)\r\nFeatures (non-breaking change which adds functionality)\r\nUpdates (new versions of included code)\r\n-->\r\n\r\n<!-- This \"Why\" section is most relevant if there is no linked issue explaining why. If there is a related issue it might make sense to skip this why section. -->\r\n<!--\r\n## Why are we doing this? Any context or related work?\r\n-->\r\n\r\n# Documentation changes needed?\r\nMy changes require a change to the project documentation. There will be another step in this PR to add documentation within the advanced section to step developers through setting up their Eliza Agent to be TEE compatible. This documentation will take developers through the process of\r\n- Building an Agent locally with TEE_MODE enabled\r\n- Run the TEE Simulator against a locally deployed Eliza Agent\r\n- Run the TEE Simulator against a docker container of the Eliza Agent\r\n- Run the Eliza Agent within a Real TEE via Phala Network's Dstack Dashboard\r\n- How to verify a Remote Attestation on https://ra-quote-explorer.vercel.app/ and validate the `reportdata` passed into the RA Quote\r\n<!--\r\nMy changes do not require a change to the project documentation.\r\nMy changes require a change to the project documentation.\r\nIf a docs change is needed: I have updated the documentation accordingly.\r\n-->\r\n\r\n<!-- Please show how you tested the PR. This will really help if the PR needs to be retested, and probably help the PR get merged quicker. -->\r\n\r\n# Testing\r\nRun through existing Solana Plugin tests before merge.\r\n## Where should a reviewer start?\r\nA reviewer should start by running the existing codebase with `TEE_MODE` set to `OFF` to ensure functionality hasn't broken.\r\n## Detailed testing steps\r\n- Run existing test sets that have TEE_MODE set `OFF` or `undefined` and pass all tests\r\n- Set `TEE_MODE` to `LOCAL` and run through a local test by launching the docker TEE Simulator then building and starting the project on the development machine where the docker TEE Simulator is running \r\n- Set `TEE_MODE` to `DOCKER` and run through a docker test by launching the docker TEE Simulator then building a docker image on a `linux/amd64` platform where the docker TEE Simulator is running\r\n- (Optional: I can record a start from scratch video) Set `TEE_MODE` to `PRODUCTION` and run through a production deployment by launching in an Intel TDX Server with Dstack SDK setup to deploy via a dashboard\r\n<!--\r\nNone, automated tests are fine.\r\n-->\r\n<!--\r\n- As [anon/admin], go to [link]\r\n  - [do action]\r\n  - verify [result]\r\n-->\r\n\r\n<!-- If there is a UI change, please include before and after screenshots or videos. This will speed up PRs being merged. It is extra nice to annotate screenshots with arrows or boxes pointing out the differences. -->\r\n\r\n## Screenshots\r\nAsk Eliza Agent about their wallet info\r\n![image](https://github.com/user-attachments/assets/73a624d8-8e98-4729-bc94-a54c5cc7ee81)\r\n\r\nGenerate RA Quote with reportdata of AgentID + Derived Solana Pub Key\r\n![image](https://github.com/user-attachments/assets/f1ba234b-2abb-4a03-81c4-a7ffd2efb1d1)\r\n\r\nVerify in the TEE RA Explorer (This is a simulator so is should say unverified, but we can still validate the `rtmr`s\r\n![image](https://github.com/user-attachments/assets/b2ef6407-b243-4d4a-a69f-b6c1bc5ac31c)\r\n\r\nVerify the `rtmr`s in the quote\r\n![image](https://github.com/user-attachments/assets/192179bc-5d19-4b77-b004-332f4371766b)\r\n\r\n\r\n<!-- If there is anything about the deploy, please make a note. -->\r\n<!--\r\n# Deploy Notes\r\n-->\r\n\r\n<!--  Copy and paste commandline output. -->\r\n<!--\r\n## Database changes\r\n-->\r\n\r\n<!--  If there is something more than the automated steps, please specifiy deploy instructions. -->\r\n<!--\r\n## Deployment instructions\r\n-->\r\n\r\n<!-- If you are on Discord, please join https://discord.gg/elizaos and state your Discord username here for contribute role and join us in #development-feed -->\r\n<!--\r\n## Discord username\r\n\r\n-->\r\n","files":[{"path":".env.example","additions":6,"deletions":1},{"path":"agent/src/index.ts","additions":13,"deletions":2},{"path":"docs/docs/advanced/eliza-in-tee.md","additions":314,"deletions":0},{"path":"docs/docs/guides/advanced.md","additions":1,"deletions":0},{"path":"docs/sidebars.js","additions":5,"deletions":0},{"path":"docs/sidebars.js.bak","additions":5,"deletions":0},{"path":"docs/static/img/eliza_in_tee.jpg","additions":0,"deletions":0},{"path":"packages/plugin-solana/package.json","additions":1,"deletions":0},{"path":"packages/plugin-solana/src/actions/pumpfun.ts","additions":5,"deletions":6},{"path":"packages/plugin-solana/src/actions/swap.ts","additions":8,"deletions":44},{"path":"packages/plugin-solana/src/actions/swapDao.ts","additions":4,"deletions":9},{"path":"packages/plugin-solana/src/actions/transfer.ts","additions":5,"deletions":7},{"path":"packages/plugin-solana/src/environment.ts","additions":23,"deletions":8},{"path":"packages/plugin-solana/src/evaluators/trust.ts","additions":5,"deletions":5},{"path":"packages/plugin-solana/src/keypairUtils.ts","additions":80,"deletions":0},{"path":"packages/plugin-solana/src/providers/simulationSellingService.ts","additions":13,"deletions":7},{"path":"packages/plugin-solana/src/providers/token.ts","additions":5,"deletions":2},{"path":"packages/plugin-solana/src/providers/wallet.ts","additions":3,"deletions":8},{"path":"packages/plugin-tee/eslint.config.mjs","additions":3,"deletions":0},{"path":"packages/plugin-tee/package.json","additions":3,"deletions":2},{"path":"packages/plugin-tee/src/index.ts","additions":4,"deletions":0},{"path":"packages/plugin-tee/src/providers/deriveKeyProvider.ts","additions":73,"deletions":16},{"path":"packages/plugin-tee/src/providers/remoteAttestationProvider.ts","additions":48,"deletions":12},{"path":"packages/plugin-tee/src/providers/walletProvider.ts","additions":9,"deletions":5},{"path":"packages/plugin-tee/src/types/tee.ts","additions":9,"deletions":10},{"path":"pnpm-lock.yaml","additions":3,"deletions":0}],"reviews":[{"author":"shakkernerd","state":"CHANGES_REQUESTED","body":"Hi @HashWarlock I left some comments that I think needs to be addressed and then we good to go."},{"author":"HashWarlock","state":"COMMENTED","body":""},{"author":"HashWarlock","state":"COMMENTED","body":""},{"author":"shakkernerd","state":"APPROVED","body":"Changes well implemented and looks good to me.\r\nWe good to go!"}],"comments":[{"author":"HashWarlock","body":"Ready for review. I added docs for using TEE Plugin as well\r\n\r\n![image](https://github.com/user-attachments/assets/b55f831f-4b89-4c4e-a946-3bb56baa894d)\r\n"},{"author":"HashWarlock","body":"@lalalune could someone take a look at this? Keeping up with new conflicts when new merges are done can get tedious."},{"author":"HashWarlock","body":"I have also run through the Developer Journey of setting `TEE_MODE` to `OFF` and set the values for `SOLANA_PUBLIC_KEY` and `SOLANA_PRIVATE_KEY`. These tests pass successfully.\r\n\r\nRequest Wallet info:\r\n![image](https://github.com/user-attachments/assets/0a25cc97-b7d0-4e34-a213-7681535adf2c)\r\n\r\nRequest Transfer Order:\r\n![image](https://github.com/user-attachments/assets/6bae73d9-ef2e-4633-82fc-4c028be67c48)\r\n"},{"author":"shakkernerd","body":"Hi @HashWarlock I will take a look and review."},{"author":"HashWarlock","body":"> Hi @HashWarlock I will take a look and review.\r\n\r\nThank you! I can remove the banner image given the conversation we had on the call earlier"}]},{"number":782,"title":"refactor: refactor dockerfile to reduce image and build time","state":"MERGED","merged":true,"created_at":"2024-12-02T01:36:20Z","updated_at":"2024-12-02T01:52:56Z","body":"<!-- Use this template by filling in information and copy and pasting relevant items out of the html comments. -->\r\n\r\n# Relates to:\r\n\r\n<!-- LINK TO ISSUE OR TICKET -->\r\n\r\n<!-- This risks section is to be filled out before final review and merge. -->\r\n\r\n# Risks\r\nLow, only pertains to docker users\r\n<!--\r\nLow, medium, large. List what kind of risks, and what could be effected.\r\n-->\r\n\r\n# Background\r\nCurrently, the developer experience for using docker is bad. Build times can take up to 30 minutes and image size is at 6GB. Reducing this pain point is key for more developer adoption.\r\n## What does this PR do?\r\nThis PR accomplishes the following:\r\n- Reduces the Docker image size from 6GB to 3.49GB\r\n- Cuts the Docker build time in half\r\n   - Tested on a Intel TDX Server (188s to 70s)\r\n   - Mac M1 Max (688.9s to 327.4s) \r\n## What kind of change is this?\r\nImprovements (refactor Dockerfile)\r\n<!--\r\nBug fixes (non-breaking change which fixes an issue)\r\nImprovements (misc. changes to existing features)\r\nFeatures (non-breaking change which adds functionality)\r\nUpdates (new versions of included code)\r\n-->\r\n\r\n<!-- This \"Why\" section is most relevant if there is no linked issue explaining why. If there is a related issue it might make sense to skip this why section. -->\r\n<!--\r\n## Why are we doing this? Any context or related work?\r\n-->\r\n\r\n# Documentation changes needed?\r\nMy changes do not require a change to the project documentation.\r\n<!--\r\nMy changes do not require a change to the project documentation.\r\nMy changes require a change to the project documentation.\r\nIf a docs change is needed: I have updated the documentation accordingly.\r\n-->\r\n\r\n<!-- Please show how you tested the PR. This will really help if the PR needs to be retested, and probably help the PR get merged quicker. -->\r\n\r\n# Testing\r\n- (Build) On mac m series `docker buildx build --platform linux/amd64 -t eliza .`\r\n- (Build) On linux/amd64 `docker build -t eliza .`\r\n- (Build & Start) `pnpm docker`\r\n## Where should a reviewer start?\r\n\r\n## Detailed testing steps\r\n\r\n<!--\r\nNone, automated tests are fine.\r\n-->\r\n\r\n<!--\r\n- As [anon/admin], go to [link]\r\n  - [do action]\r\n  - verify [result]\r\n-->\r\n\r\n<!-- If there is a UI change, please include before and after screenshots or videos. This will speed up PRs being merged. It is extra nice to annotate screenshots with arrows or boxes pointing out the differences. -->\r\n<!--\r\n## Screenshots\r\n### Before\r\n### After\r\n-->\r\n\r\n<!-- If there is anything about the deploy, please make a note. -->\r\n<!--\r\n# Deploy Notes\r\n-->\r\n\r\n<!--  Copy and paste commandline output. -->\r\n<!--\r\n## Database changes\r\n-->\r\n\r\n<!--  If there is something more than the automated steps, please specifiy deploy instructions. -->\r\n<!--\r\n## Deployment instructions\r\n-->\r\n\r\n<!-- If you are on Discord, please join https://discord.gg/elizaos and state your Discord username here for contribute role and join us in #development-feed -->\r\n<!--\r\n## Discord username\r\n\r\n-->\r\n","files":[{"path":"Dockerfile","additions":46,"deletions":21}],"reviews":[],"comments":[]},{"number":702,"title":"fix: update docker image to support turbo and reduce build time","state":"MERGED","merged":true,"created_at":"2024-11-30T04:29:42Z","updated_at":"2024-11-30T06:42:13Z","body":"<!-- Use this template by filling in information and copy and pasting relevant items out of the html comments. -->\r\n\r\n# Relates to:\r\n\r\n<!-- LINK TO ISSUE OR TICKET -->\r\n\r\n<!-- This risks section is to be filled out before final review and merge. -->\r\n\r\n# Risks\r\nLow, only pertains to docker users.\r\n<!--\r\nLow, medium, large. List what kind of risks, and what could be effected.\r\n-->\r\n\r\n# Background\r\nDocker was broken with turbo update. This reduces build times.\r\n## What does this PR do?\r\n- Fixes Docker builds\r\n## What kind of change is this?\r\nBug fixes (non-breaking change which fixes an issue)\r\n<!--\r\nBug fixes (non-breaking change which fixes an issue)\r\nImprovements (misc. changes to existing features)\r\nFeatures (non-breaking change which adds functionality)\r\nUpdates (new versions of included code)\r\n-->\r\n\r\n<!-- This \"Why\" section is most relevant if there is no linked issue explaining why. If there is a related issue it might make sense to skip this why section. -->\r\n<!--\r\n## Why are we doing this? Any context or related work?\r\n-->\r\n\r\n# Documentation changes needed?\r\n\r\n<!--\r\nMy changes do not require a change to the project documentation.\r\nMy changes require a change to the project documentation.\r\nIf a docs change is needed: I have updated the documentation accordingly.\r\n-->\r\n\r\n<!-- Please show how you tested the PR. This will really help if the PR needs to be retested, and probably help the PR get merged quicker. -->\r\n\r\n# Testing\r\n\r\n## Where should a reviewer start?\r\n\r\n## Detailed testing steps\r\n\r\n<!--\r\nNone, automated tests are fine.\r\n-->\r\n\r\n<!--\r\n- As [anon/admin], go to [link]\r\n  - [do action]\r\n  - verify [result]\r\n-->\r\n\r\n<!-- If there is a UI change, please include before and after screenshots or videos. This will speed up PRs being merged. It is extra nice to annotate screenshots with arrows or boxes pointing out the differences. -->\r\n\r\n## Screenshots\r\nDocker agent running in TEE\r\n![image](https://github.com/user-attachments/assets/982bf158-81ef-4dcd-8508-18c51d347300)\r\n\r\n<!--\r\n### Before\r\n### After\r\n-->\r\n\r\n<!-- If there is anything about the deploy, please make a note. -->\r\n<!--\r\n# Deploy Notes\r\n-->\r\n\r\n<!--  Copy and paste commandline output. -->\r\n<!--\r\n## Database changes\r\n-->\r\n\r\n<!--  If there is something more than the automated steps, please specifiy deploy instructions. -->\r\n<!--\r\n## Deployment instructions\r\n-->\r\n\r\n<!-- If you are on Discord, please join https://discord.gg/elizaos and state your Discord username here for contribute role and join us in #development-feed -->\r\n<!--\r\n## Discord username\r\n\r\n-->\r\n","files":[{"path":"Dockerfile","additions":14,"deletions":67},{"path":"docker-compose.yaml","additions":3,"deletions":1}],"reviews":[{"author":"monilpat","state":"APPROVED","body":"LGTM!"},{"author":"monilpat","state":"APPROVED","body":""}],"comments":[]},{"number":678,"title":"fix: Make TEE Plugin available to launch agent & fix previous launch error","state":"MERGED","merged":true,"created_at":"2024-11-29T19:42:51Z","updated_at":"2024-12-02T01:04:25Z","body":"\r\n\r\n<!-- Use this template by filling in information and copy and pasting relevant items out of the html comments. -->\r\n\r\n# Relates to:\r\n\r\n<!-- LINK TO ISSUE OR TICKET -->\r\n\r\n<!-- This risks section is to be filled out before final review and merge. -->\r\n\r\n# Risks\r\nLow, risks are removed by making sure default env variable `WALLET_SECRET_SALT` is undefined.\r\n<!--\r\nLow, medium, large. List what kind of risks, and what could be effected.\r\n-->\r\n\r\n# Background\r\nRemove default salt in the `.env.example` file to remove launch agent errors with TEE Plugin. Add tee plugin back into agent startup file so users can launch a TEE agent with a character file.\r\n\r\n## What does this PR do?\r\n- Remove agent launch errors that use TEE Plugin\r\n- Adds logic for Agent to startup in a TEE Plugin with or without a simulator\r\n\r\n## What kind of change is this?\r\nBug fixes\r\n<!--\r\nBug fixes (non-breaking change which fixes an issue)\r\nImprovements (misc. changes to existing features)\r\nFeatures (non-breaking change which adds functionality)\r\nUpdates (new versions of included code)\r\n-->\r\n\r\n<!-- This \"Why\" section is most relevant if there is no linked issue explaining why. If there is a related issue it might make sense to skip this why section. -->\r\n<!--\r\n## Why are we doing this? Any context or related work?\r\n-->\r\n\r\n# Documentation changes needed?\r\nMy changes do not require a change to the project documentation.\r\n<!--\r\nMy changes do not require a change to the project documentation.\r\nMy changes require a change to the project documentation.\r\nIf a docs change is needed: I have updated the documentation accordingly.\r\n-->\r\n\r\n<!-- Please show how you tested the PR. This will really help if the PR needs to be retested, and probably help the PR get merged quicker. -->\r\n\r\n# Testing\r\n\r\n## Where should a reviewer start?\r\nI created a short YouTube video to explain the steps.\r\nhttps://youtu.be/RABERCv5FiA\r\n\r\n## Detailed testing steps\r\n- Add the env variable `WALLET_SECRET_SALT` with a value in the character config file.\r\n> Example for env vars to test locally:\r\n> `DSTACK_SIMULATOR_ENDPOINT=http://localhost:8090`\r\n> `WALLET_SECRET_SALT=secretSalt`\r\n- Build project `pnpm build`\r\n- Launch the TEE Simulator to test locally\r\n> `docker run --rm -p 8090:8090 phalanetwork/tappd-simulator:latest`\r\n- `pnpm start`\r\n\r\n<!--\r\nNone, automated tests are fine.\r\n-->\r\n\r\n<!--\r\n- As [anon/admin], go to [link]\r\n  - [do action]\r\n  - verify [result]\r\n-->\r\n\r\n<!-- If there is a UI change, please include before and after screenshots or videos. This will speed up PRs being merged. It is extra nice to annotate screenshots with arrows or boxes pointing out the differences. -->\r\n<!--\r\n## Screenshots\r\n### Before\r\n### After\r\n-->\r\n\r\n<!-- If there is anything about the deploy, please make a note. -->\r\n<!--\r\n# Deploy Notes\r\n-->\r\n\r\n<!--  Copy and paste commandline output. -->\r\n<!--\r\n## Database changes\r\n-->\r\n\r\n<!--  If there is something more than the automated steps, please specifiy deploy instructions. -->\r\n<!--\r\n## Deployment instructions\r\n-->\r\n\r\n<!-- If you are on Discord, please join https://discord.gg/elizaos and state your Discord username here for contribute role and join us in #development-feed -->\r\n<!--\r\n## Discord username\r\n\r\n-->\r\n","files":[{"path":".env.example","additions":1,"deletions":1},{"path":"agent/src/index.ts","additions":2,"deletions":1}],"reviews":[],"comments":[]},{"number":674,"title":"fix: add missing viem dependency","state":"MERGED","merged":true,"created_at":"2024-11-29T18:10:39Z","updated_at":"2024-12-02T01:04:23Z","body":"<!-- Use this template by filling in information and copy and pasting relevant items out of the html comments. -->\r\n\r\n# Relates to:\r\n\r\n<!-- LINK TO ISSUE OR TICKET -->\r\n\r\n<!-- This risks section is to be filled out before final review and merge. -->\r\n\r\n# Risks\r\nLow\r\n<!--\r\nLow, medium, large. List what kind of risks, and what could be effected.\r\n-->\r\n\r\n# Background\r\nPlugin-TEE is missing the `viem` package dependency that is used in the `DeriveKeyProvider`.\r\n## What does this PR do?\r\n\r\n## What kind of change is this?\r\nBug Fixes\r\n<!--\r\nBug fixes (non-breaking change which fixes an issue)\r\nImprovements (misc. changes to existing features)\r\nFeatures (non-breaking change which adds functionality)\r\nUpdates (new versions of included code)\r\n-->\r\n\r\n<!-- This \"Why\" section is most relevant if there is no linked issue explaining why. If there is a related issue it might make sense to skip this why section. -->\r\n<!--\r\n## Why are we doing this? Any context or related work?\r\n-->\r\n\r\n# Documentation changes needed?\r\nNo\r\n<!--\r\nMy changes do not require a change to the project documentation.\r\nMy changes require a change to the project documentation.\r\nIf a docs change is needed: I have updated the documentation accordingly.\r\n-->\r\n\r\n<!-- Please show how you tested the PR. This will really help if the PR needs to be retested, and probably help the PR get merged quicker. -->\r\n\r\n# Testing\r\n\r\n## Where should a reviewer start?\r\n\r\n## Detailed testing steps\r\n\r\n<!--\r\nNone, automated tests are fine.\r\n-->\r\n\r\n<!--\r\n- As [anon/admin], go to [link]\r\n  - [do action]\r\n  - verify [result]\r\n-->\r\n\r\n<!-- If there is a UI change, please include before and after screenshots or videos. This will speed up PRs being merged. It is extra nice to annotate screenshots with arrows or boxes pointing out the differences. -->\r\n<!--\r\n## Screenshots\r\n### Before\r\n### After\r\n-->\r\n\r\n<!-- If there is anything about the deploy, please make a note. -->\r\n<!--\r\n# Deploy Notes\r\n-->\r\n\r\n<!--  Copy and paste commandline output. -->\r\n<!--\r\n## Database changes\r\n-->\r\n\r\n<!--  If there is something more than the automated steps, please specifiy deploy instructions. -->\r\n<!--\r\n## Deployment instructions\r\n-->\r\n\r\n<!-- If you are on Discord, please join https://discord.gg/elizaos and state your Discord username here for contribute role and join us in #development-feed -->\r\n<!--\r\n## Discord username\r\n\r\n-->\r\n","files":[{"path":"packages/plugin-tee/package.json","additions":3,"deletions":2}],"reviews":[],"comments":[]},{"number":640,"title":"fix: Add docs, update providers for TEE Plugin","state":"MERGED","merged":true,"created_at":"2024-11-28T06:26:25Z","updated_at":"2024-11-28T08:56:32Z","body":"<!-- Use this template by filling in information and copy and pasting relevant items out of the html comments. -->\r\n\r\n# Relates to:\r\n\r\n<!-- LINK TO ISSUE OR TICKET -->\r\n\r\n<!-- This risks section is to be filled out before final review and merge. -->\r\n\r\n# Risks\r\nLow, Adding docs and updating TEE Plugin to derive both solana ed25519 and evm ecdsa keypairs.\r\n\r\n<!--\r\nLow, medium, large. List what kind of risks, and what could be effected.\r\n-->\r\n\r\n# Background\r\n\r\n## What does this PR do?\r\n\r\n## What kind of change is this?\r\nImprovements\r\n<!--\r\nBug fixes (non-breaking change which fixes an issue)\r\nImprovements (misc. changes to existing features)\r\nFeatures (non-breaking change which adds functionality)\r\nUpdates (new versions of included code)\r\n-->\r\n\r\n<!-- This \"Why\" section is most relevant if there is no linked issue explaining why. If there is a related issue it might make sense to skip this why section. -->\r\n<!--\r\n## Why are we doing this? Any context or related work?\r\n-->\r\n\r\n# Documentation changes needed?\r\nI have updated the documentation accordingly.\r\n<!--\r\nMy changes do not require a change to the project documentation.\r\nMy changes require a change to the project documentation.\r\nIf a docs change is needed: I have updated the documentation accordingly.\r\n-->\r\n\r\n<!-- Please show how you tested the PR. This will really help if the PR needs to be retested, and probably help the PR get merged quicker. -->\r\n\r\n# Testing\r\n\r\n## Where should a reviewer start?\r\n\r\n## Detailed testing steps\r\n\r\n<!--\r\nNone, automated tests are fine.\r\n-->\r\n\r\n<!--\r\n- As [anon/admin], go to [link]\r\n  - [do action]\r\n  - verify [result]\r\n-->\r\n\r\n<!-- If there is a UI change, please include before and after screenshots or videos. This will speed up PRs being merged. It is extra nice to annotate screenshots with arrows or boxes pointing out the differences. -->\r\n<!--\r\n## Screenshots\r\n### Before\r\n### After\r\n-->\r\n\r\n<!-- If there is anything about the deploy, please make a note. -->\r\n<!--\r\n# Deploy Notes\r\n-->\r\n\r\n<!--  Copy and paste commandline output. -->\r\n<!--\r\n## Database changes\r\n-->\r\n\r\n<!--  If there is something more than the automated steps, please specifiy deploy instructions. -->\r\n<!--\r\n## Deployment instructions\r\n-->\r\n\r\n<!-- If you are on Discord, please join https://discord.gg/elizaos and state your Discord username here for contribute role and join us in #development-feed -->\r\n<!--\r\n## Discord username\r\n\r\n-->\r\n","files":[{"path":"agent/src/index.ts","additions":0,"deletions":1},{"path":"docs/docs/packages/plugins.md","additions":84,"deletions":12},{"path":"packages/plugin-tee/README.md","additions":34,"deletions":5},{"path":"packages/plugin-tee/src/index.ts","additions":0,"deletions":2},{"path":"packages/plugin-tee/src/providers/deriveKeyProvider.ts","additions":54,"deletions":6},{"path":"packages/plugin-tee/src/providers/remoteAttestationProvider.ts","additions":1,"deletions":1},{"path":"packages/plugin-tee/src/providers/walletProvider.ts","additions":4,"deletions":6}],"reviews":[{"author":"lalalune","state":"APPROVED","body":""}],"comments":[]},{"number":632,"title":"feat: Initial TEE Plugin","state":"MERGED","merged":true,"created_at":"2024-11-27T18:02:38Z","updated_at":"2024-11-28T22:42:05Z","body":"<!-- Use this template by filling in information and copy and pasting relevant items out of the html comments. -->\r\n\r\n# Relates to:\r\n\r\n<!-- LINK TO ISSUE OR TICKET -->\r\n\r\n<!-- This risks section is to be filled out before final review and merge. -->\r\n\r\n# Risks\r\nLow as this is an optional plugin to include for TEE based agents.\r\n<!--\r\nLow, medium, large. List what kind of risks, and what could be effected.\r\n-->\r\n\r\n# Background\r\nCreate a boilerplate plugin for deploying agents in TEE and provide 2 key functions for agents:\r\n- Derive Key for deriving private keys within a TEE running the [Dstack SDK]\r\n- Remote Attestation for generating RA Quote on report data passed in as a parameter\r\n\r\nOptimize Docker Container to reduce size from 11.1GB to <6GB based on comment from [tebayoso] (https://github.com/elizaos/eliza/pull/293#issuecomment-2474228100) in original docker PR #293 \r\n## What does this PR do?\r\n> Note: To run in TEE, you must have specialized hardware. Reach out to [Phala Network](https://github.com/Phala-Network) for help getting started\r\n- Add Support for deploying docker containers in TEE\r\n- Create 3 new providers called derive key, remote attestation, and wallet provider\r\n- Optimize Dockerfile for deployments\r\n- Add docker-compose.yaml file to use docker compose up\r\n\r\n## What kind of change is this?\r\nFeatures\r\n<!--\r\nBug fixes (non-breaking change which fixes an issue)\r\nImprovements (misc. changes to existing features)\r\nFeatures (non-breaking change which adds functionality)\r\nUpdates (new versions of included code)\r\n-->\r\n\r\n<!-- This \"Why\" section is most relevant if there is no linked issue explaining why. If there is a related issue it might make sense to skip this why section. -->\r\n\r\n## Why are we doing this? Any context or related work?\r\nAutonomous Agents that trade onchain have a root of trust problem that requires a human to generate a wallet and provide a private key as part of the environment variables. This is a problem since humans can easily inject themselves into the process and make it easy for them to build ruggable agents. This solution aims to give users some verifiability with remote attestation and allow agents to autonomously generate their wallet within the TEE based on a secret salt instead of a private key. Now agents have a the autonomy to perform actions onchain without the possibility of a human manipulating the wallet since the human can no longer know what the private key since it is generated within the TEE.\r\n\r\n# Documentation changes needed?\r\n\r\n<!--\r\nMy changes do not require a change to the project documentation.\r\nMy changes require a change to the project documentation.\r\nIf a docs change is needed: I have updated the documentation accordingly.\r\n-->\r\n\r\n<!-- Please show how you tested the PR. This will really help if the PR needs to be retested, and probably help the PR get merged quicker. -->\r\n\r\n# Testing\r\n\r\n## Where should a reviewer start?\r\nFirst a developer should use a Ubuntu 24.04 linux machine for best simulation. Character file must include teePlugin.\r\n\r\n## Detailed testing steps\r\n#### Run TEE Simultator with docker (make sure docker is started)\r\n\r\n```bash\r\ndocker run --rm -p 8090:8090 phalanetwork/tappd-simulator:latest\r\n```\r\n#### Edit Character File to use teePlugin and install\r\n\r\n```bash\r\npnpm install\r\ncd packages/core\r\npnpm install\r\ncd -\r\n```\r\n\r\n#### Build your project\r\n```bash\r\npnpm build\r\n```\r\n#### (Optional) For users running on Mac or Windows update .env file\r\n```bash\r\n# If running pnpm start use this endpoint\r\nDSTACK_SIMULATOR_ENDPOINT=\"http://localhost:8090\"\r\n# If using pnpm docker to launch agent\r\nDSTACK_SIMULATOR_ENDPOINT=\"http://host.docker.internal:8090\"\r\n```\r\n\r\n#### Launch your agent\r\n\r\n```bash\r\n# For local testing\r\npnpm start\r\n# For docker testing\r\npnpm docker\r\n```\r\n\r\n#### If you want to run on Intel TDX Server\r\nReach out to Phala Network team or me @HashWarlock to help get you deployed on a real TEE server through our TaaS Force team.\r\n<!--\r\nNone, automtated tests are fine.\r\n-->\r\n\r\n<!--\r\n- As [anon/admin], go to [link]\r\n  - [do action]\r\n  - verify [result]\r\n-->\r\n\r\n<!-- If there is a UI change, please include before and after screenshots or videos. This will speed up PRs being merged. It is extra nice to annotate screenshots with arrows or boxes pointing out the differences. -->\r\n<!--\r\n## Screenshots\r\nDerive Key\r\n![image](https://github.com/user-attachments/assets/6aab52f4-ba14-4b65-a7c9-eaeb69251822)\r\n\r\nRemote Attestation\r\n![image](https://github.com/user-attachments/assets/1e2910c6-e1bc-4503-8c35-1ac51bd2852d)\r\n\r\n### Before\r\n### After\r\n-->\r\n\r\n<!-- If there is anything about the deploy, please make a note. -->\r\n<!--\r\n# Deploy Notes\r\n-->\r\n\r\n<!--  Copy and paste commandline output. -->\r\n<!--\r\n## Database changes\r\n-->\r\n\r\n<!--  If there is something more than the automated steps, please specifiy deploy instructions. -->\r\n<!--\r\n## Deployment instructions\r\n-->\r\n\r\n<!-- If you are on Discord, please join https://discord.gg/elizaos and state your Discord username here for contribute role and join us in #development-feed -->\r\n<!--\r\n## Discord username\r\n\r\n-->\r\n","files":[{"path":".env.example","additions":5,"deletions":0},{"path":"Dockerfile","additions":68,"deletions":15},{"path":"agent/package.json","additions":1,"deletions":0},{"path":"agent/src/index.ts","additions":4,"deletions":0},{"path":"docker-compose.yaml","additions":40,"deletions":0},{"path":"packages/plugin-tee/.npmignore","additions":6,"deletions":0},{"path":"packages/plugin-tee/README.md","additions":52,"deletions":0},{"path":"packages/plugin-tee/package.json","additions":26,"deletions":0},{"path":"packages/plugin-tee/src/index.ts","additions":25,"deletions":0},{"path":"packages/plugin-tee/src/providers/deriveKeyProvider.ts","additions":69,"deletions":0},{"path":"packages/plugin-tee/src/providers/remoteAttestationProvider.ts","additions":41,"deletions":0},{"path":"packages/plugin-tee/src/providers/walletProvider.ts","additions":310,"deletions":0},{"path":"packages/plugin-tee/src/types/tee.ts","additions":12,"deletions":0},{"path":"packages/plugin-tee/tsconfig.json","additions":8,"deletions":0},{"path":"packages/plugin-tee/tsup.config.ts","additions":28,"deletions":0},{"path":"scripts/build.sh","additions":1,"deletions":0},{"path":"scripts/docker.sh","additions":1,"deletions":0}],"reviews":[{"author":"lalalune","state":"APPROVED","body":""}],"comments":[{"author":"HashWarlock","body":"Adding documentation and updating the plugin.\r\n\r\n- [x] Documentation on TEE Plugin\r\n- [x] Add functions to derive raw key, derive ed25519 key for Solana, derive ecdsa key for evm chains"}]},{"number":327,"title":"Add Docker support","state":"CLOSED","merged":false,"created_at":"2024-11-15T04:58:33Z","updated_at":"2024-11-15T04:59:13Z","body":"<!-- Use this template by filling in information and copy and pasting relevant items out of the html comments. -->\r\n\r\n# Relates to:\r\n\r\n<!-- LINK TO ISSUE OR TICKET -->\r\n\r\n<!-- This risks section is to be filled out before final review and merge. -->\r\n\r\n# Risks\r\n\r\n<!--\r\nLow, medium, large. List what kind of risks, and what could be effected.\r\n-->\r\n\r\n# Background\r\n\r\n## What does this PR do?\r\n\r\n## What kind of change is this?\r\n\r\n<!--\r\nBug fixes (non-breaking change which fixes an issue)\r\nImprovements (misc. changes to existing features)\r\nFeatures (non-breaking change which adds functionality)\r\nUpdates (new versions of included code)\r\n-->\r\n\r\n<!-- This \"Why\" section is most relevant if there is no linked issue explaining why. If there is a related issue it might make sense to skip this why section. -->\r\n<!--\r\n## Why are we doing this? Any context or related work?\r\n-->\r\n\r\n# Documentation changes needed?\r\n\r\n<!--\r\nMy changes do not require a change to the project documentation.\r\nMy changes require a change to the project documentation.\r\nIf a docs change is needed: I have updated the documentation accordingly.\r\n-->\r\n\r\n<!-- Please show how you tested the PR. This will really help if the PR needs to be retested, and probably help the PR get merged quicker. -->\r\n\r\n# Testing\r\n\r\n## Where should a reviewer start?\r\n\r\n## Detailed testing steps\r\n\r\n<!--\r\nNone, automtated tests are fine.\r\n-->\r\n\r\n<!--\r\n- As [anon/admin], go to [link]\r\n  - [do action]\r\n  - verify [result]\r\n-->\r\n\r\n<!-- If there is a UI change, please include before and after screenshots or videos. This will speed up PRs being merged. It is extra nice to annotate screenshots with arrows or boxes pointing out the differences. -->\r\n<!--\r\n## Screenshots\r\n### Before\r\n### After\r\n-->\r\n\r\n<!-- If there is anything about the deploy, please make a note. -->\r\n<!--\r\n# Deploy Notes\r\n-->\r\n\r\n<!--  Copy and paste commandline output. -->\r\n<!--\r\n## Database changes\r\n-->\r\n\r\n<!--  If there is something more than the automated steps, please specifiy deploy instructions. -->\r\n<!--\r\n## Deployment instructions\r\n-->\r\n","files":[{"path":"Dockerfile","additions":60,"deletions":0},{"path":"packages/core/src/defaultCharacter.ts","additions":99,"deletions":335},{"path":"pnpm-lock.yaml","additions":4,"deletions":3}],"reviews":[],"comments":[]},{"number":198,"title":"Add RedPill API Support","state":"MERGED","merged":true,"created_at":"2024-11-04T17:45:54Z","updated_at":"2024-11-05T04:02:03Z","body":"<!-- Use this template by filling in information and copy and pasting relevant items out of the html comments. -->\r\n\r\n# Relates to:\r\n\r\n<!-- LINK TO ISSUE OR TICKET -->\r\n\r\n<!-- This risks section is to be filled out before final review and merge. -->\r\n\r\n# Risks\r\n\r\nLow risk/impact\r\n\r\n# Background\r\n\r\n## What does this PR do?\r\nThis PR will add support for the RedPill API to gain access to top LLM providers without having an account for each service. This PR aims to support the text generation support in the first implementation.\r\n## What kind of change is this?\r\n\r\nFeatures (non-breaking change which adds functionality)\r\n\r\n<!-- This \"Why\" section is most relevant if there is no linked issue explaining why. If there is a related issue it might make sense to skip this why section. -->\r\n## Why are we doing this? Any context or related work?\r\nReason to support RedPill is to reduce the management of multiple LLM API accounts and allow for a seamless approach to use top LLMs interchangeably with a shared memory state. \r\n\r\n# Documentation changes needed?\r\nDocumentation changes would be adding RedPill to the list of Model Providers available to use.\r\n\r\n<!-- Please show how you tested the PR. This will really help if the PR needs to be retested, and probably help the PR get merged quicker. -->\r\n\r\n# Testing\r\nExecuted in developer environment with `pnpm dev`. \r\n- Logs of calls to the agent found here https://red-pill.ai/shares/dfcf1de5-e7df-449e-a92e-283fcda7dbf8\r\n- Tested with both Open AI and Anthropic models\r\n\r\n## Where should a reviewer start?\r\nReviewer can start by requesting a RedPill API Key from me or the Phala Network team. Which is all that is needed before testing.\r\n\r\n## Detailed testing steps\r\n- Add the RedPill API Key to secret variable\r\n- Add other environment variables for enabled features\r\n- Set the models to use in `./core/src/core/models.ts`\r\n- Spin up agent to test live `pnpm dev`\r\n<!--\r\nNone, automated tests are fine.\r\n-->\r\n\r\n<!--\r\n- As [anon/admin], go to [link]\r\n  - [do action]\r\n  - verify [result]\r\n-->\r\n\r\n<!-- If there is a UI change, please include before and after screenshots or videos. This will speed up PRs being merged. It is extra nice to annotate screenshots with arrows or boxes pointing out the differences. -->\r\n<!--\r\n## Screenshots\r\n### Before\r\n### After\r\n-->\r\n\r\n<!-- If there is anything about the deploy, please make a note. -->\r\n<!--\r\n# Deploy Notes\r\n-->\r\n\r\n<!--  Copy and paste commandline output. -->\r\n<!--\r\n## Database changes\r\n-->\r\n\r\n<!--  If there is something more than the automated steps, please specifiy deploy instructions. -->\r\n<!--\r\n## Deployment instructions\r\n-->\r\n","files":[{"path":"core/.env.example","additions":1,"deletions":0},{"path":"core/src/cli/index.ts","additions":5,"deletions":0},{"path":"core/src/core/generation.ts","additions":35,"deletions":10},{"path":"core/src/core/models.ts","additions":20,"deletions":0},{"path":"core/src/core/types.ts","additions":1,"deletions":0},{"path":"pnpm-lock.yaml","additions":10792,"deletions":13449}],"reviews":[{"author":"lalalune","state":"APPROVED","body":""}],"comments":[{"author":"lalalune","body":"love this."},{"author":"HashWarlock","body":"> love this.\n\nWhenever RedPill has support for image and voice generation, I'll add those features. One part i didn't end up changing was the image inspection that uses gpt-4o-mini. The serverUrl uses the openai API & key by default, but if it uses red-pill API, it will also work. I didn't want to break anything unintentionally there, so I didn't put a fix there."},{"author":"lalalune","body":"We don't have a good image provider abstraction yet-- badly needed."}]}]},"issues":{"total_opened":2,"opened":[{"number":1049,"title":"bug: setting auto in character file fails to load client-auto","state":"CLOSED","created_at":"2024-12-13T21:17:48Z","updated_at":"2024-12-13T23:34:47Z","body":"**Describe the bug**\r\nCurrently, when a character file wants to use the Auto Client, the agent will return an error.\r\n```\r\n[\"⛔ Error parsing character from ../characters/schlomo.character.json: Error: Character configuration validation failed:\\nclients.2: Invalid enum value. Expected 'discord' | 'direct' | 'twitter' | 'telegram' | 'farcaster', received 'auto'\"]\r\n```\r\n\r\nThis is due to the `types.ts` file does not define an enum `AUTO = \"auto\"`. \r\n<!-- A clear and concise description of what the bug is. -->\r\n\r\n**To Reproduce**\r\nDefine the `\"clients\": [\"auto\"],` in the character file to reproduce the error.\r\n<!-- Steps to reproduce the behavior. -->\r\n\r\n**Expected behavior**\r\nExpected behavior should start the auto client and print a log \r\n```\r\n [\"◎ running auto client...\"] \r\n ```\r\n<!-- A clear and concise description of what you expected to happen. -->\r\n\r\n**Screenshots**\r\n![image](https://github.com/user-attachments/assets/ae835d80-4362-40b8-81d7-7db7aac8c8c5)\r\n\r\n<!-- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Additional context**\r\n\r\n<!-- Add any other context about the problem here. -->\r\n","labels":[{"name":"bug","color":"d73a4a","description":"Something isn't working"}],"comments":[]},{"number":928,"title":"feat: Support Fetching Character Files From Storage Service","state":"OPEN","created_at":"2024-12-09T05:55:56Z","updated_at":"2024-12-09T05:57:14Z","body":"**Is your feature request related to a problem? Please describe.**\r\nFor our use case at Phala Network, we are building a base template docker image for developers to deploy their agents to our TEE (Trusted Execution Environment) Cloud. However, we want to make the loading of the character json file easier to add via a command line argument vs building a new docker image with the new character file. Our main pain point is we want the user journey for technical to non-technical users to be able to publish their character configuration file to a storage protocol like arweave, ipfs, aws, etc. and be able to load those character files in through a command argument. This will make our deploy service easier with a docker compose file that can list the file id location in an argument like `pnpm start --characterUrl=https://characterfile.url`\r\n\r\n**Describe the solution you'd like**\r\nThe developer journey would go as follows:\r\n- Generate a character JSON file through any means (keep this step unopinionated)\r\n- Publish the character file to a storage service. (Ex. Use Thirdweb to post and pin to IPFS https://972b74063c2cd00df1a4cf777bf37d0a.ipfscdn.io/ipfs/bafybeicod5xghpshbxmfb3sh2ccfbb5657dgvxthgwolb42srz4a5iadwm/)\r\n- Create a new CLI argument to the `pnpm start` command named `--characterUrl` that will take in the URL where the character file is hosted\r\n- When the agent is being initialized, `fetch` the character file from the URL and allow for the agent to go through the natural process of starting up the agent\r\n\r\nCode changes should be minimal and would not affect any core functionality so the risk is low.\r\n\r\n**Describe alternatives you've considered**\r\nAlternatives were building a web app similar to vvaifu, but this would not be a good user experience for cloud deployments or a good strategy to compete with them since we are focused on different problems.\r\n<!-- A clear and concise description of any alternative solutions or features you've considered. -->\r\n\r\n**Additional context**\r\nThis will help bring more users to Eliza with better security and privacy guarantees by utilizing TEE for safe Eliza agent cloud deployments.\r\n<!-- Add any other context or screenshots about the feature request here. -->\r\nExample deployment with a mock docker compose file in the TEE Cloud.\r\n![image](https://github.com/user-attachments/assets/f0bec2d0-aa0e-418c-bf88-67e37edf1a17)\r\n\r\n\r\n","labels":[{"name":"enhancement","color":"a2eeef","description":"New feature or request"}],"comments":[{"author":"HashWarlock","body":"I can also take on this issue if needed, but this is a good first issue for any new junior devs to get started on the Eliza framework."}]}]},"engagement":{"total_comments":1,"total_reviews":10,"comments":[],"reviews":[]}}};
    </script>
    <script type="text/javascript">
        
const StatusDot = ({ status }) => {
  const colors = {
    open: 'bg-green-500',
    closed: 'bg-red-500',
    merged: 'bg-purple-500'
  };

  return React.createElement('span', {
    className: `inline-block w-2 h-2 rounded-full ${colors[status]} mr-2`
  });
};

const ActivitySection = ({ title, items = [], showStatus = false }) => {
  const [isExpanded, setIsExpanded] = React.useState(false);
  
  const getStatus = (item) => {
    if (item.state === 'merged' || (item.state === 'closed' && title === 'Pull Requests')) {
      return 'merged';
    }
    return item.state || 'open';
  };

  return React.createElement('div', { className: 'border rounded-lg p-4' },
    React.createElement('div', {
      className: 'flex items-center justify-between cursor-pointer',
      onClick: () => setIsExpanded(!isExpanded)
    },
      React.createElement('h3', { className: 'font-semibold' }, title),
      React.createElement('span', null, isExpanded ? '▼' : '▶')
    ),
    isExpanded && React.createElement('div', { className: 'mt-4 space-y-2' },
      items.map((item, index) => 
        React.createElement('div', { key: index, className: 'p-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded' },
          React.createElement('a', {
            href: item.url,
            target: '_blank',
            rel: 'noopener noreferrer',
            className: 'text-sm hover:text-blue-500 flex flex-col gap-1'
          },
            React.createElement('span', { className: 'font-medium flex items-center' },
              showStatus && React.createElement(StatusDot, { status: getStatus(item) }),
              item.message || item.title || item.body
            ),
            React.createElement('span', { className: 'text-gray-500 text-xs' },
              new Date(item.date || item.created_at).toLocaleDateString()
            )
          )
        )
      )
    )
  );
};

const StatCard = ({ name, value }) => {
  return React.createElement('div', { className: 'bg-white dark:bg-gray-800 rounded-lg p-6 shadow' },
    React.createElement('h3', { className: 'font-semibold' }, name),
    React.createElement('p', { className: 'text-2xl font-bold' }, value)
  );
};

const ContributorProfile = ({ data }) => {
  const stats = [
    { name: 'Commits', value: data.activity.code.total_commits },
    { name: 'Pull Requests', value: data.activity.code.total_prs },
    { name: 'Issues', value: data.activity.issues.total_opened },
    { name: 'Comments', value: data.activity.engagement.total_comments }
  ];

  return React.createElement('div', { className: 'max-w-7xl mx-auto p-4 space-y-6' },
    React.createElement('div', { className: 'bg-white dark:bg-gray-800 rounded-lg p-6 shadow' },
      React.createElement('div', { className: 'flex items-center justify-between' },
        React.createElement('div', { className: 'flex items-center gap-4' },
          React.createElement('img', {
            src: data.avatar_url,
            alt: `${data.contributor}'s avatar`,
            className: 'w-16 h-16 rounded-full'
          }),
          React.createElement('div', null,
            React.createElement('h1', { className: 'text-2xl font-bold' }, data.contributor),
            React.createElement('div', { className: 'text-gray-600 dark:text-gray-400' },
              React.createElement('span', { className: 'font-semibold' }, 'Score: '),
              data.score
            )
          )
        )
      )
    ),

    data.summary && React.createElement('div', { 
      className: 'bg-white dark:bg-gray-800 rounded-lg p-6 shadow'
    },
      React.createElement('p', { 
        className: 'text-gray-700 dark:text-gray-300 text-sm leading-relaxed'
      }, data.summary)
    ),

    React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-4 gap-4' },
      stats.map(stat => React.createElement(StatCard, { 
        key: stat.name,
        ...stat
      }))
    ),

    React.createElement('div', { className: 'space-y-4' },
      React.createElement(ActivitySection, {
        title: 'Commits',
        items: data.activity.code.commits
      }),
      React.createElement(ActivitySection, {
        title: 'Pull Requests',
        items: data.activity.code.pull_requests,
        showStatus: true
      }),
      React.createElement(ActivitySection, {
        title: 'Issues',
        items: data.activity.issues.opened || [],
        showStatus: true
      }),
      React.createElement(ActivitySection, {
        title: 'Comments',
        items: data.activity.engagement.comments
      })
    )
  );
};

// Initialize React root and render
const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(React.createElement(ContributorProfile, { data: window.__DATA__ }));
    </script>
</body>
</html>