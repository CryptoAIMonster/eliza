
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pindaroso - GitHub Contributions</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 dark:bg-gray-900">
    <div id="root"><div class="max-w-7xl mx-auto p-4 space-y-6"><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><img src="https://avatars.githubusercontent.com/u/1249896?u=55560a3f8cf84e312d74bf6537d2f51273e3aac5&amp;v=4" alt="pindaroso&#x27;s avatar" class="w-16 h-16 rounded-full"/><div><h1 class="text-2xl font-bold">pindaroso</h1><div class="text-gray-600 dark:text-gray-400"><span class="font-semibold">Score: </span>19</div></div></div><div class="text-3xl font-bold text-blue-600 dark:text-blue-400">19</div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><p class="text-gray-700 dark:text-gray-300 text-sm leading-relaxed">Pindaroso is currently focusing on developing a Dockerized application for local development, testing, and deployment purposes. This effort involved significant code changes across packages and scripts, as evidenced by the recent merge of one pull request into their main branch.</p></div><div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Commits</h3><p class="text-2xl font-bold">1</p></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Pull Requests</h3><p class="text-2xl font-bold">1</p></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Issues</h3><p class="text-2xl font-bold">0</p></div><div class="bg-white dark:bg-gray-800 rounded-lg p-6 shadow"><h3 class="font-semibold">Comments</h3><p class="text-2xl font-bold">0</p></div></div><div class="space-y-4"><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Commits</h3><span>▶</span></div></div><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Pull Requests</h3><span>▶</span></div></div><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Issues</h3><span>▶</span></div></div><div class="border rounded-lg p-4"><div class="flex items-center justify-between cursor-pointer"><h3 class="font-semibold">Comments</h3><span>▶</span></div></div></div></div></div>
    <script>
        window.__DATA__ = {"contributor":"pindaroso","score":19,"summary":"Pindaroso is currently focusing on developing a Dockerized application for local development, testing, and deployment purposes. This effort involved significant code changes across packages and scripts, as evidenced by the recent merge of one pull request into their main branch.","avatar_url":"https://avatars.githubusercontent.com/u/1249896?u=55560a3f8cf84e312d74bf6537d2f51273e3aac5&v=4","activity":{"code":{"total_commits":1,"total_prs":1,"commits":[{"sha":"06d7c74db60b31ded8afc7464715bd15c5a4b792","message":"Merge pull request #1 from ai16z/main\n\nPull Upstream","created_at":"2024-11-14T13:28:44Z","additions":2756,"deletions":12150,"changed_files":188}],"pull_requests":[{"number":293,"title":"Dockerized application for local development, testing and deployment","state":"MERGED","merged":true,"created_at":"2024-11-13T15:19:44Z","updated_at":"2024-11-15T11:37:30Z","body":"# Relates to:\r\n\r\nDistribution.\r\n\r\n# Risks\r\n\r\nLow. Could potentially cause confusion to those unfamiliar with Docker.\r\n\r\n# Background\r\n\r\n## What does this PR do?\r\n\r\nThis PR aims to improve Eliza ergonomics by providing a one liner for getting up and running via Docker.\r\n\r\n## What kind of change is this?\r\n\r\nDevelopment or infrastructure support.\r\n\r\n## Why are we doing this? Any context or related work?\r\n\r\nImprove Eliza accessibility.\r\n\r\n# Documentation changes needed?\r\n\r\nUpdated README.\r\n\r\n# Testing\r\n\r\n## Where should a reviewer start?\r\n\r\n## Detailed testing steps\r\n\r\n```\r\ndocker:build\r\ndocker:run\r\ndocker:bash\r\n```\r\n\r\n# Deploy Notes\r\n\r\nWe could potentially add CI/CD. Or an official Docker image. Thoughts?\r\n\r\n## Database changes\r\n\r\nN/A","files":[{"path":".gitignore","additions":1,"deletions":0},{"path":"Dockerfile","additions":30,"deletions":0},{"path":"README.md","additions":8,"deletions":0},{"path":"package.json","additions":6,"deletions":1},{"path":"packages/client-direct/package.json","additions":1,"deletions":0},{"path":"scripts/docker.sh","additions":66,"deletions":0}],"reviews":[{"author":"ponderingdemocritus","state":"COMMENTED","body":""},{"author":"w1kke","state":"COMMENTED","body":""}],"comments":[{"author":"tebayoso","body":"### Dockerfile Audit and Suggested Improvements\r\n\r\nThe current Dockerfile implementation has several areas that could be improved to enhance performance, security, and maintainability. Here’s a detailed list of suggested changes:\r\n\r\n1. **No `.dockerignore` File**\r\n   - Without a `.dockerignore`, unnecessary files and folders (e.g., `.git`, `node_modules`, logs) are included in the Docker build context. This increases image size and build time.\r\n   - **Suggested Fix**: Add a `.dockerignore` file to exclude files not needed in the container.\r\n\r\n2. **Inefficient Layer Caching**\r\n   - Dependencies are installed multiple times, which prevents effective caching. Additionally, using separate `ADD` commands for configuration files results in multiple layers.\r\n   - **Suggested Fix**: Consolidate the `ADD` commands for configuration files and install dependencies in a single step. Run `pnpm i` only once after adding all configuration files.\r\n\r\n3. **Redundant `RUN pnpm i` Commands**\r\n   - Dependencies are installed three times throughout the Dockerfile, increasing build time.\r\n   - **Suggested Fix**: Install dependencies once, after copying all necessary configuration files, to streamline the build process.\r\n\r\n4. **Lack of Multi-Stage Build for Production**\r\n   - A single-stage build may result in unnecessary development dependencies being included in the final image, which increases image size and introduces security risks.\r\n   - **Suggested Fix**: Use a multi-stage build to separate build dependencies from the final production image, ensuring only essential files are included.\r\n\r\n5. **Unoptimized `CMD` Command**\r\n   - The `CMD [\"tail\", \"-f\", \"/dev/null\"]` keeps the container idle and suggests the container isn’t configured to run the application.\r\n   - **Suggested Fix**: Replace `CMD` with the actual command to start the application, such as `CMD [\"pnpm\", \"start\"]`.\r\n\r\n6. **Direct Inclusion of Environment Variables (`.env` File)**\r\n   - Adding the `.env` file with `ADD` exposes sensitive information in the Docker image. This can pose security risks if the image is pushed to a registry.\r\n   - **Suggested Fix**: Use Docker secrets or pass environment variables at runtime to secure sensitive data.\r\n\r\n7. **Lack of Non-Root User**\r\n   - The container runs as the root user by default, which can lead to security vulnerabilities if exploited.\r\n   - **Suggested Fix**: Create a non-root user and run the application under this user. Example:\r\n     ```Dockerfile\r\n     RUN adduser -D appuser\r\n     USER appuser\r\n     ```\r\n\r\n8. **Missing Port Exposure**\r\n   - If the application is meant to run a service (e.g., a web server), the container should expose the relevant port.\r\n   - **Suggested Fix**: Add an `EXPOSE <port>` statement for documentation and networking purposes.\r\n\r\n9. **Lack of `.npmrc` Caching**\r\n   - If `.npmrc` contains specific registry or authentication settings, it should be added before dependency installation for caching purposes and authentication consistency.\r\n   - **Suggested Fix**: Add `.npmrc` before running `pnpm i` to leverage caching and reduce unnecessary network requests.\r\n\r\n10. **Unused `docs` Directory**\r\n    - Adding `docs` to the image increases its size without being used by the application.\r\n    - **Suggested Fix**: Remove the `docs` directory from the Dockerfile unless it’s necessary for runtime.\r\n\r\n11. **Inconsistent Dependency Installation**\r\n    - Multiple installations of dependencies without clearing caches or pinning versions may lead to conflicts or unexpected updates.\r\n    - **Suggested Fix**: Ensure dependencies are installed consistently in one step, and pin specific versions where possible.\r\n\r\n12. **Missing Health Checks**\r\n    - Without a health check, monitoring systems like Kubernetes cannot accurately assess the container’s health.\r\n    - **Suggested Fix**: Add a health check for better monitoring, e.g.:\r\n      ```Dockerfile\r\n      HEALTHCHECK CMD curl -f http://localhost:<port> || exit 1\r\n      ```\r\n\r\n---\r\n\r\n### Suggested Refactored Dockerfile\r\n\r\nHere’s a refactored Dockerfile with the suggested improvements:\r\n\r\n```Dockerfile\r\n# Stage 1: Build dependencies in a temporary stage\r\nFROM node:22-alpine AS builder\r\n\r\n# Install required global dependencies\r\nRUN apk add --no-cache python3 make g++ \\\r\n    && npm install -g pnpm@9.4.0\r\n\r\n# Set working directory\r\nWORKDIR /app\r\n\r\n# Copy essential config files\r\nCOPY pnpm-workspace.yaml package.json .npmrc pnpm-lock.yaml ./\r\n\r\n# Install dependencies\r\nRUN pnpm install --frozen-lockfile\r\n\r\n# Copy source code\r\nCOPY tsconfig.json ./\r\nCOPY docs ./docs\r\nCOPY packages ./packages\r\nCOPY scripts ./scripts\r\nCOPY characters ./characters\r\nCOPY src ./src\r\n\r\n# Optional: build step if using TypeScript or other build process\r\n# RUN pnpm build\r\n\r\n# Stage 2: Production image\r\nFROM node:22-alpine\r\n\r\n# Install dependencies required for the final runtime\r\nRUN apk add --no-cache python3 make g++ \\\r\n    && npm install -g pnpm@9.4.0\r\n\r\n# Create a non-root user and switch to it\r\nRUN adduser -D appuser\r\nUSER appuser\r\n\r\n# Set working directory\r\nWORKDIR /app\r\n\r\n# Copy built files from the builder stage\r\nCOPY --from=builder /app /app\r\n\r\n# Expose application port if running a web server\r\nEXPOSE 3000  # Adjust port as needed\r\n\r\n# Add health check to ensure the app is running\r\nHEALTHCHECK --interval=30s --timeout=10s --start-period=5s CMD curl -f http://localhost:3000 || exit 1\r\n\r\n# Set environment variables to configure runtime model settings\r\nENV NODE_ENV=production\r\n# Add more default environment variables if needed, e.g., DISCORD_APPLICATION_ID, etc.\r\n\r\n# Default command to run the application\r\nCMD [\"pnpm\", \"start\"]"},{"author":"w1kke","body":"Merging this in would help to reduce exposure of the developers machine to the community developed code. A huge plus for me as a developer."}]}]},"issues":{"total_opened":0,"opened":[]},"engagement":{"total_comments":0,"total_reviews":2,"comments":[],"reviews":[]}}};
    </script>
    <script type="text/javascript">
        
const StatusDot = ({ status }) => {
  const colors = {
    open: 'bg-green-500',
    closed: 'bg-red-500',
    merged: 'bg-purple-500'
  };

  return React.createElement('span', {
    className: `inline-block w-2 h-2 rounded-full ${colors[status]} mr-2`
  });
};

const ActivitySection = ({ title, items = [], showStatus = false }) => {
  const [isExpanded, setIsExpanded] = React.useState(false);
  
  const getStatus = (item) => {
    if (item.state === 'merged' || (item.state === 'closed' && title === 'Pull Requests')) {
      return 'merged';
    }
    return item.state || 'open';
  };

  return React.createElement('div', { className: 'border rounded-lg p-4' },
    React.createElement('div', {
      className: 'flex items-center justify-between cursor-pointer',
      onClick: () => setIsExpanded(!isExpanded)
    },
      React.createElement('h3', { className: 'font-semibold' }, title),
      React.createElement('span', null, isExpanded ? '▼' : '▶')
    ),
    isExpanded && React.createElement('div', { className: 'mt-4 space-y-2' },
      items.map((item, index) => 
        React.createElement('div', { key: index, className: 'p-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded' },
          React.createElement('a', {
            href: item.url,
            target: '_blank',
            rel: 'noopener noreferrer',
            className: 'text-sm hover:text-blue-500 flex flex-col gap-1'
          },
            React.createElement('span', { className: 'font-medium flex items-center' },
              showStatus && React.createElement(StatusDot, { status: getStatus(item) }),
              item.message || item.title || item.body
            ),
            React.createElement('span', { className: 'text-gray-500 text-xs' },
              new Date(item.date || item.created_at).toLocaleDateString()
            )
          )
        )
      )
    )
  );
};

const StatCard = ({ name, value }) => {
  return React.createElement('div', { className: 'bg-white dark:bg-gray-800 rounded-lg p-6 shadow' },
    React.createElement('h3', { className: 'font-semibold' }, name),
    React.createElement('p', { className: 'text-2xl font-bold' }, value)
  );
};

const ContributorProfile = ({ data }) => {
  const stats = [
    { name: 'Commits', value: data.activity.code.total_commits },
    { name: 'Pull Requests', value: data.activity.code.total_prs },
    { name: 'Issues', value: data.activity.issues.total_opened },
    { name: 'Comments', value: data.activity.engagement.total_comments }
  ];

  return React.createElement('div', { className: 'max-w-7xl mx-auto p-4 space-y-6' },
    React.createElement('div', { className: 'bg-white dark:bg-gray-800 rounded-lg p-6 shadow' },
      React.createElement('div', { className: 'flex items-center justify-between' },
        React.createElement('div', { className: 'flex items-center gap-4' },
          React.createElement('img', {
            src: data.avatar_url,
            alt: `${data.contributor}'s avatar`,
            className: 'w-16 h-16 rounded-full'
          }),
          React.createElement('div', null,
            React.createElement('h1', { className: 'text-2xl font-bold' }, data.contributor),
            React.createElement('div', { className: 'text-gray-600 dark:text-gray-400' },
              React.createElement('span', { className: 'font-semibold' }, 'Score: '),
              data.score
            )
          )
        )
      )
    ),

    data.summary && React.createElement('div', { 
      className: 'bg-white dark:bg-gray-800 rounded-lg p-6 shadow'
    },
      React.createElement('p', { 
        className: 'text-gray-700 dark:text-gray-300 text-sm leading-relaxed'
      }, data.summary)
    ),

    React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-4 gap-4' },
      stats.map(stat => React.createElement(StatCard, { 
        key: stat.name,
        ...stat
      }))
    ),

    React.createElement('div', { className: 'space-y-4' },
      React.createElement(ActivitySection, {
        title: 'Commits',
        items: data.activity.code.commits
      }),
      React.createElement(ActivitySection, {
        title: 'Pull Requests',
        items: data.activity.code.pull_requests,
        showStatus: true
      }),
      React.createElement(ActivitySection, {
        title: 'Issues',
        items: data.activity.issues.opened || [],
        showStatus: true
      }),
      React.createElement(ActivitySection, {
        title: 'Comments',
        items: data.activity.engagement.comments
      })
    )
  );
};

// Initialize React root and render
const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(React.createElement(ContributorProfile, { data: window.__DATA__ }));
    </script>
</body>
</html>